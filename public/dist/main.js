!function(a){if(window.ModuleTrack){new window.ModuleTrack("ranking")}var b=[["名次","","总得分"],["名次","","平均排名"],["名次","","平均得分"]],c=[[],[],[]],d=0,e=[0,0,0],f=["st","nd","rd","th","th","th","th","th","th","th"],g=[["学校","排行榜"],["战队","排行榜"],["个人","排行榜"]],h=["总得分榜","平均排名榜","平均得分榜"],i="average-rank",j="average-score",k="total-score",l=[k,i,j],m="school",n="team",o="user",p=[m,n,o],q=function(a,c){var d=b[c];return[d[0],g[a][0],d[2]]},r=function(a){return{rank:a[0],name:a[1],score:a[2]}},s=function(a,b){var d=[];d.push(r(q(a,b)));var e=c[a][b];return e.forEach(function(a){d.push(r(a))}),d};a.rankingCtrl=function(a,b,q){var r=["/service-proxy/info/ranking/total-score/school/10","/service-proxy/info/ranking/average-score/school/10","/service-proxy/info/ranking/average-rank/school/10","/service-proxy/info/ranking/total-score/team/10","/service-proxy/info/ranking/average-score/team/10","/service-proxy/info/ranking/average-rank/team/10","/service-proxy/info/ranking/total-score/user/10","/service-proxy/info/ranking/average-score/user/10","/service-proxy/info/ranking/average-rank/user/10"],t=function(a,b){var c="";switch(a){case m:c=b.name;break;case n:c=b.name_s;break;case o:c=b.real_name_s}return c},u=function(a,b){var c="";switch(a){case i:c=b.average;break;case j:c=b.average;break;case k:c=b.total}return parseFloat(c).toFixed(2)},v=r.map(function(a,d){var e=q.defer();return b.get(a).success(function(a){var b=a.data;b&&b.length>0&&(b=b.map(function(b,c){return[c+1+f[c],t(a.target,b),u(a.type,b)]})),c[p.indexOf(a.target)][l.indexOf(a.type)]=b,e.resolve(b)}),e.promise});q.all(v).then(function(){a.option=d,a.subOption=e,a.details=s(a.option,a.subOption[a.option]),a.titleOptions=g,a.subTitleOptions=h},function(a){dfd.reject(a)}),a.rankChange=function(b){a.option=b,a.details=s(a.option,a.subOption[b])},a.subTileChange=function(b){a.subOption[a.option]=b,a.details=s(a.option,b)}},a.rankingCtrl.$inject=["$scope","$http","$q"]}(angular.cmpt=angular.cmpt||{}),angular.module("cmpt",["pascalprecht.translate"]).config(["$httpProvider",function(a){a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]).config(["$translateProvider",function(a){a.useSanitizeValueStrategy(null);var b={40001:"加入战队",40002:"创建战队",40003:"候选战队",40004:"已送出申请",40005:"邀请你的名单",40006:"队伍名称",40007:"确定",40008:"候选名单",40009:"已邀请名单",40010:"申请名单",40011:"有",40012:"战队邀请你加入",40013:"接受",40014:"拒绝",40015:"邀请",40016:"搜寻合适队友。ex.财经系女",40017:"申请",40018:"微信邀请队友",40019:"查看详情",40020:"人报名",40021:"我要离队",40022:"队伍名称：",40023:"比赛时间：",40024:"报名时间：",40025:"我的游戏首页",40026:"我的比赛记录",40027:"我的比赛排名",40030:"比赛已结束，结束时间",40031:"已开始比赛，比赛结束时间",40032:"已结束报名，比赛开始时间",40033:"已开始报名，报名结束时间",40034:"即将开始报名，报名开始时间",40040:"Bridge+",40041:"合得",40042:"http://www.bridgeplus.cn",40043:"http://www.hcdlearning.com",40044:"服务号",40050:"申请已发送成功！",40051:"暂时没有已提交的申请",40052:"暂时没有被邀请",40053:"成功接受邀请",40054:"没有候选名单",40055:"成功发送邀请",40056:"暂时没有收到加入队伍的申请",40057:"暂时没有邀请任何人",40058:"成功接受申请",40059:"没有候选战队",40060:"中国",40061:"西北",40062:"华北",40063:"东北",40064:"西南",40065:"华中",40066:"华东",40067:"华南",40068:"港澳台",40070:"比赛已结束！",40071:"比赛已结束，组队未成功！期待下次比赛吧~ ",40072:"比赛已开始！加油！",40073:"报名已结束，组队未成功！期待下次比赛吧~ ",40074:"组队报名成功！比赛时间",40075:"组队成功！比赛时间",40076:"请在报名截止时间",40077:"前完成组队",40078:"我的战队",40079:"正在参加",40080:"大赛详情",40081:"全国商战模拟游戏大赛",40082:"官网",40083:"搜寻队伍",40100:"东北地区",40101:"华北地区",40102:"华东地区",40103:"华南地区",40104:"华中地区",40105:"西南地区",40106:"西北地区",40107:"港澳台",40108:"辽宁、吉林、黑龙江",40109:"北京、天津、河北</br>山西、内蒙古",40110:"山东、江苏、安徽、</br>浙江、福建、上海",40111:"广东、广西、海南",40112:"湖北、湖南、河南、江西",40113:"四川、云南、贵州、</br>西藏、重庆",40114:"宁夏、新疆、青海、</br>陕西、甘肃",40115:"香港、澳门、台湾",40120:"各轮排名",40200:"分钟",40201:"小时",40202:"天",40203:"月",40204:"年",40205:"日",40206:"北京时间",40210:"微信邀请朋友观赛",40211:"换一批",40212:"比赛即将开始",40213:"点此进行比赛",40214:"请召集所有队员，准备比赛",40215:"比赛进行中",40216:"比赛结束",40220:"瞩目在线教室",40221:"创建教室中...",40222:"创建教室成功！",40223:"进入教室",40250:"该赛场设有密码",40251:"密码错误",40252:"请输入赛场密码",40253:"确定",40254:"密码不能为空",40255:"结果详细信息",40256:"获取参赛报告",40257:"获取获奖证书",40258:"获取参赛证明",40259:"您还没有完成任何比赛",40404:"未登录",70006:"该用户无权限加入此队伍",70008:"该用户已经属于一个队伍，不能再被加入队伍"};a.translations("en",b).translations("cn",b).translations("zh",b)}]).directive("cloak",function(){return{restrict:"C",link:function(a,b,c,d){b.css("opacity",1)}}}).directive("epic",function(){return{restrict:"E",templateUrl:"template/epic.html"}}).directive("epicMobile",function(){return{restrict:"E",templateUrl:"template/epic_mobile.html"}}).directive("epicinfo",function(){return{restrict:"E",templateUrl:"template/epicinfo.html"}}).directive("gametraining",function(){return{restrict:"E",templateUrl:"template/game-training.html"}}).directive("upsell",function(){return{restrict:"E",templateUrl:"template/upsell.html"}}).directive("teammember",function(){return{restrict:"E",templateUrl:"template/teammember.html"}}).directive("teammemberMobile",function(){return{restrict:"E",templateUrl:"template/teammember_mobile.html"}}).directive("teamjoin",function(){return{restrict:"E",templateUrl:"template/teamjoin.html"}}).directive("headerMobile",function(){return{restrict:"E",templateUrl:"template/header_mobile.html"}}).directive("footerMobile",function(){return{restrict:"E",templateUrl:"template/footer_mobile.html"}}).directive("ngDynamicDirective",["$compile","$parse",function(a,b){return{restrict:"A",link:function(b,c,d){b.$watch(c.attr("ng-dynamic-directive"),function(d){c.attr(d.replace(/([A-Z])/g,function(a){return"-"+a.toString().toLowerCase()}),d),c.removeAttr("ng-dynamic-directive"),a(c)(b)})}}}]).directive("teamsCanJoin",function(){return{restrict:"A",templateUrl:"template/teams_can_join.html"}}).directive("teamsApplySent",function(){return{restrict:"A",templateUrl:"template/teams_apply_sent.html"}}).directive("teamsBeingInvited",function(){return{restrict:"A",templateUrl:"template/teams_being_invited.html"}}).directive("peopleCanJoin",function(){return{restrict:"A",templateUrl:"template/people_can_join.html"}}).directive("peopleWantToJoin",function(){return{restrict:"A",templateUrl:"template/people_want_to_join.html"}}).directive("peopleInvited",function(){return{restrict:"A",templateUrl:"template/people_invited.html"}}).directive("seriesList",function(){return{restrict:"E",templateUrl:"template/series-list.html"}}).directive("experimentList",function(){return{restrict:"E",templateUrl:"template/experiment-list.html"}}).directive("nationalList",function(){return{restrict:"E",templateUrl:"template/national-list.html"}}).directive("seasonList",function(){return{restrict:"E",templateUrl:"template/season-list.html"}}).directive("gameMenu",function(){return{restrict:"E",templateUrl:"template/game-menu.html"}}).directive("gamePersonalRecord",function(){return{restrict:"E",templateUrl:"template/game-personal-record.html"}}).directive("gameRankingList",function(){return{restrict:"E",templateUrl:"template/game-ranking.html"}}).directive("gameroom",function(){return{restrict:"E",templateUrl:"template/gameroom.html"}}).directive("gameroomMobile",function(){return{restrict:"E",templateUrl:"template/gameroom-mobile.html"}}).directive("gameCertificatePrize",function(){return{restrict:"E",scope:!0,templateUrl:"template/game-certificate-prize.html",compile:function(a,b){return{pre:function(a,b,c){a.type="prize"}}}}}).directive("gameCertificateReport",function(){return{restrict:"E",scope:!0,templateUrl:"template/game-certificate-report.html",compile:function(a,b){return{pre:function(a,b,c){a.type="report"}}}}}).directive("gameCertificateProof",function(){return{restrict:"E",templateUrl:"template/game-certificate-proof.html",compile:function(a,b){return{pre:function(a,b,c){a.type="join"}}}}}).directive("gameCertificateAddress",function(){return{restrict:"E",scope:!0,templateUrl:"template/game-certificate-address.html"}}).directive("chinaMap",["$filter","$translate",function(a,b){return{restrict:"AE",template:'<div id="china-map" style="height:400px">',link:{post:function(a,c,d,e){require.config({paths:{echarts:cmpt+"/libs/echarts/build/dist"}}),require(["echarts","echarts/chart/map"],function(d){var e={},f=cmpt+"/json/area.json";require("echarts/util/mapData/params").params.area={getGeoJson:function(a){$.getJSON(f,function(c){c.features.forEach(function(a){var c=b.instant(a.properties.id);a.properties.name=c,e[c]=a.properties.id}),a(c)})}};var g=d.init(c.children().get(0));g.setOption({tooltip:{trigger:"item",formatter:function(a,c,d){return b.instant((0|e[a[1]])+8)}},series:[{name:"中国",type:"map",mapType:"area",selectedMode:"single",itemStyle:{normal:{color:"#CCC",label:{show:!0}},emphasis:{color:"hcd"==a.site?"#6e3d82":"#ff3c42",label:{show:!0,textStyle:{color:"#fff"}}}},data:[]}]}),window.onresize=g.resize,g.on(require("echarts/config").EVENT.MAP_SELECTED,function(b){a.$emit("area/choose",e[b.target]),$(document).trigger("mapClick",[b,e[b.target]])})})}}}}]).directive("pop",["$compile",function(a){return{restrict:"A",scope:{content:"@",klass:"@"},link:function(b,c,d){var e=$('<div class="pop '+b.$parent.site+'"></div>').addClass(b.klass).appendTo("body"),f=$(b.content);f.each(function(c,d){a(d)(b.$parent)}),e.append(f);var g;$(c).on("mouseenter",function(){var a=$(c).offset(),b=($(this).width(),$(this).height());clearTimeout(g),e.removeClass("animate").css({top:a.top+b/2,left:a.left}).addClass("show"),g=setTimeout(function(){e.addClass("animate")},100)}).on("mouseleave",function(){clearTimeout(g),e.removeClass("animate"),g=setTimeout(function(){e.removeClass("show")},500)})}}}]).directive("qrcode",function(){return{restrict:"A",scope:{src:"="},link:function(a,b,c){a.src&&$(b).qrcode({text:a.src,width:120,height:120})}}}).directive("checkbox",function(){return{restrict:"A",scope:{model:"="},link:function(a,b,c){b.on("click",function(b){var c=$(this),d=c.children("input");if(!d.is(":disabled")){var e=c.hasClass("checked");c.toggleClass("checked"),e?d[0].removeAttribute("checked"):d[0].setAttribute("checked",!0),a.$parent.$apply(function(){a.model=!e})}})}}}).directive("additional",function(){return{restrict:"E",templateUrl:"template/additional.html"}}).directive("countdown",function(){return{restrict:"E",templateUrl:"template/countdown.html"}}).directive("epicvalidate",function(){return{restrict:"E",templateUrl:"template/epic_validate.html"}}).directive("modal",["$timeout","$compile","$parse",function(a,b,c){return{restrict:"E",scope:!0,link:function(d,e,f){function g(){e.addClass("fade")}function h(){e.removeClass("show")}var i=f.template;i&&(e.html("<"+i+"></"+i+"</>"),b(e.contents())(d)),e.addClass("modal");var j=f.model,k=c(j);d.closeModal=function(){k.assign(d,null)},d.$watch(j,function(b){void 0!==b&&(b?(e.addClass("show"),a(g,20)):(e.removeClass("fade"),a(h,1e3)))})}}}]).directive("inputEnter",["$parse",function(a){return{restrict:"A",compile:function(b,c){var d=a(c.inputEnter);return function(a,b){b.bind("keypress",function(b){13==b.keyCode&&a.$apply(function(){d(a,{$event:b})})})}}}}]).controller("epicBaseCtrl",["$scope","$http","$translate",function(a,b,c){function d(){a.ms_member&&a.ms_team&&(a.isLeader=a.ms_team.leader==a.ms_member.member_id)}function e(){a.epic_id&&b.post(cmpt+"/team/memberteam",{epic_id:a.epic_id}).success(function(b){b.isSuccess&&(a.ms_team=b.result,a.ms_team&&a.fixTeam(a.ms_team))})}function f(a,b){return a=a&&a.match(b),a=a?a[1]:null}var g=location.search.slice(1),h=a.cdnVersion=function(){return"undefined"!=typeof buildDate?buildDate:angular&&angular.bplus&&angular.bplus.config&&angular.bplus.config.cdn&&angular.bplus.config.cdn.version?angular.bplus.config.cdn.version:""}(),i=a.cdn=function(){return"undefined"!=typeof i?i:angular&&angular.bplus&&angular.bplus.config&&angular.bplus.config.cdn&&angular.bplus.config.cdn.normal?angular.bplus.config.cdn.normal.slice(0,-1):""}(),j=i+cmpt+"/img/unknown.png?"+h,k=i+cmpt+"/img/male_default.png?"+h,l=i+cmpt+"/img/female_default.png?"+h;a.empty=[{},{},{},{},{}],a.isLeader=!1,a.cmpt=cmpt,a.gameLink=function(){return"bplus"==a.site?"/zh/youth":"/cn/competion"}(),a.wechatName="bplus"==a.site?40040:40041,a.portalLink="bplus"==a.site?40042:40043,c.preferredLanguage()||c.use(a.lang||"cn"),a.fixTeams=function(b){b.forEach(a.fixTeam)},a.fixTeam=function(b){b.memberLength=b.members.length,b.memberLength<5&&(b.members=b.members.concat(a.empty.slice(b.memberLength))),a.fixMembers(b.members)},a.fixMembers=function(b){b.forEach(a.fixMember)},a.fixMember=function(a){a.gender=a.gender||"U",a.show_name=a.real_name||a.nick_name||a.wechat,a.education&&(a.university=a.education.university,a.major=a.education.major),a.member_id?a.avatar?(0==a.avatar.indexOf("http://")?a.avatar=a.avatar.slice("http:".length):0==a.avatar.indexOf("https://")&&(a.avatar=a.avatar.slice("https:".length)),a.avatar+="-small"):"U"==a.gender?a.avatar=j:"M"==a.gender?a.avatar=k:"F"==a.gender?a.avatar=l:a.avatar=j:a.avatar=j},a.fixEpic=function(a){return a?(a.epic_game_end=new Date(a.epic_game_end||a.game_end),a.epic_game_from=new Date(a.epic_game_from||a.game_from),a.epic_sign_end=new Date(a.epic_sign_end||a.sign_end),a.epic_sign_from=new Date(a.epic_sign_from||a.sign_from),a):a},a.fixSeries=function(b){return b&&b.epics?(b.epics.forEach(a.fixEpic),b):b};var m=location.protocol,n=location.host;a.QRCode=function(b,c){return b&&c?m+"//"+n+"/"+a.lang+cmpt+"/shared_epic?epic_id="+b+"&team_id="+c:void 0},g&&(g=g.split("&"),g.forEach(function(b){b=b.split("="),b&&2==b.length&&(a[b[0]]=b[1])})),a.$watch("epic_id",function(c){c&&b.get(cmpt+"/game/epic/load/"+c).success(function(b){b.isSuccess&&(a.ms_epic=a.fixEpic(b.result))})}),a.$watch("team_id",function(c){a.isSharePage=!!c,c&&b.get(cmpt+"/team/load/"+c).success(function(b){b.isSuccess&&b.result&&(a.share_team=b.result,a.fixTeam(a.share_team))})}),a.$watch("series_id",function(c){c&&b.get(cmpt+"/game/series/load/"+c).success(function(b){if(b.isSuccess&&(a.ms_series=a.fixSeries(b.result),a.ms_series&&a.ms_series.epics)){a.ms_series.epics.sort(function(a,b){return a.epic_game_end-b.epic_game_end});var c=-1;a.ms_series.epics.forEach(function(b,d){b.epic_game_end<a.now&&(c=d)}),c>-1&&(a.ms_series.epics=a.ms_series.epics.slice(c+1,a.ms_series.epics.length).concat(a.ms_series.epics.slice(0,c+1).reverse()))}})}),b.get(cmpt+"/member").success(function(b){b.isSuccess&&(a.ms_member=b.result,a.fixMember(a.ms_member))}),b.get(cmpt+"/game/series/my/").success(function(b){b&&b.isSuccess&&(b.result.forEach(a.fixSeries),a.all_series=b.result)}),a.$watch("ms_team",function(a){d()}),a.$watch("ms_member",function(a){d(),a&&e()}),a.$on("joinTeamSuccess",e),a.$on("acceptApplySuccess",e),a.$on("createTeamSuccess",e),a.$on("removeMemberSuccess",e),a.formatDate=function(b,d,e){if(b){b=new Date(b),b.setTime(b.getTime()+a.timeOffset),b=[b.getFullYear(),b.getMonth()+1,b.getDate(),b.getHours(),b.getMinutes()],b.forEach(function(a,c){10>a&&(b[c]="0"+a)});var f=b[0]+c.instant(40204)+b[1]+c.instant(40203)+b[2]+c.instant(40205)+" ";return(d?"":c.instant(40206))+" "+(e?f:f+b[3]+":"+b[4])}},a.formatDateSimple=function(b,c){return a.formatDate(b,c,!0)};var o=a.now=new Date,p=(a.timeOffset=60*(o.getTimezoneOffset()+480)*1e3,36e5),q=a.day=24*p;a.getDeltaDays=function(a){var b=new Date(a)-o;return Math.ceil(b/q)},a.getTime=function(b){return b.epic_game_end<o?c.instant(40030)+a.formatDate(b.epic_game_end):b.epic_game_from<o?c.instant(40031)+a.formatDate(b.epic_game_end):b.epic_sign_end<o?c.instant(40032)+a.formatDate(b.epic_game_from):b.epic_sign_from<o?c.instant(40033)+a.formatDate(b.epic_sign_end):c.instant(40034)+a.formatDate(b.epic_sign_from)},a.getTeamTime=function(b,d){var e=d>=0;return b.epic_game_end<o?c.instant(e?40070:40071):b.epic_game_from<o?c.instant(e?40072:40073):b.epic_sign_end<o?e?c.instant(40074)+a.formatDate(b.epic_game_from):c.instant(40073):b.epic_sign_from<o?e?c.instant(40075)+a.formatDate(b.epic_game_from):c.instant(40076)+a.formatDate(b.epic_sign_end)+c.instant(40077):c.instant(40034)+a.formatDate(b.epic_sign_from)},a.showMessage=function(a,b){b.message.text=a,b.message.error=null,b.message.show=!0},a.showError=function(a,b){b.message.text=null,b.message.error=a,b.message.show=!0},a.hideMessage=function(a){a.message.show=!1},a.translateRegion=function(a){switch(a){case"china":return 40060;case"xibei":return 40061;case"huabei":return 40062;case"dongbei":return 40063;case"xinan":return 40064;case"huazhong":return 40065;case"huadong":return 40066;case"huanan":return 40067;case"gat":return 40068;default:return 40060}},a.teamRoom=null,a.updateTeamRoom=function(b){a.teamRoom=b};var r=/(?:^|;) *epic_valid=([^;]*)/,s=(f(document.cookie,r)||"").split("|");a.validateEpic=function(a,c,d){b.post(cmpt+"/game/epic/validation",{epic_id:a,security_key:c}).success(function(b){b.isSuccess&&b.result&&(s.push(a),document.cookie="epic_valid="+s.join("|")+";path=/"),d(b.result)})},a.epicIsValid=function(a){return a.need_security?s.indexOf(a.epic_id)>-1:!0},a.offerUrl=function(a){return"/store/offers#/confirm/"+a+"/"},a.offers={chinese_cert:{offerId:"dcb33391-baad-4dd0-9c05-aa2e4f05c940",productTypeId:"7a25f186-d31d-4c88-8070-87776480d853"},english_cert:{offerId:"fede0083-1c78-4081-90f4-2ecd534d2977",productTypeId:"5b258c78-a7fa-41d6-9ea9-04132e9de428"},report:{offerId:"2c3671fe-90df-45c5-bea4-25cedc5e5431",productTypeId:"35388cd9-9a7e-4955-b72f-3104bf8da90d"}}}]).controller("gameteamCtrl",["$scope","$http",function(a,b){a.updateTeamName=function(){b.post(cmpt+"/team/update",{name:a.ms_team.name,team_id:a.ms_team.team_id}).success(function(b){b.isSuccess&&(a.$emit("updateTeamNameSuccess"),a.edit=!1)})},a.removeMember=function(c){b.post(cmpt+"/team/left",{target_id:c.member_id,team_id:a.ms_team.team_id}).success(function(b){b.isSuccess&&a.$emit("removeMemberSuccess")})},a.select=function(b){a.isSharePage||!a.isLeader||!b.member_id||b.member_id==a.ms_member.member_id||a.ms_epic&&a.ms_epic.epic_sign_end<a.now||(a.selected=a.selected===b?null:b)}}]).controller("teamjoinCtrl",["$scope","$http",function(a,b){a.number={teamsApplySent:0,teamsBeingInvited:0,peopleInvited:0,peopleWantToJoin:0},a.tabs=[{name:"join",label:40001,filter:"ms_member && !ms_team",children:[{name:"teamsCanJoin",label:40003},{name:"teamsApplySent",label:40004},{name:"teamsBeingInvited",label:40005}]},{name:"create",label:40002,filter:"ms_member && !ms_team",children:[{name:"peopleCanJoin",label:40008},{name:"peopleInvited",label:40009},{name:"peopleWantToJoin",label:40010}]}],a.tabs.forEach(function(b){a.$watch(b.filter,function(a){b.show=a})}),a.$watch("selected",function(b){b&&!b.tab&&(a.selectedTab=b.children[0])}),a.toggle=function(b){a.selected=b},a.selectTab=function(b){a.selectedTab=b},a.$watch("selectedTab",function(b){b&&a.$broadcast(b.name)}),a.showTabHeader=function(a){return"join"==a.name&&a.show?!0:a.show},a.showTabContent=function(b){return void 0!==b.show?"join"==b.name?a.selected===b&&!a.ms_team:a.selected===b||a.ms_team:void 0}}]).controller("createTeamCtrl",["$scope","$http",function(a,b){a.message={},a.createTeam=function(){a.name&&b.post(cmpt+"/team/create",{name:a.name,epic_id:a.ms_epic.epic_id}).success(function(b){b.isSuccess?(a.$emit("createTeamSuccess"),a.hideMessage(a)):a.showError(b.code,a)})}}]).controller("teamsCanJoinCtrl",["$scope","$http",function(a,b){function c(){clearTimeout(e),e=setTimeout(d,300)}function d(){a.teams&&a.teams.forEach(function(a){a.expanded=!1}),b.post(cmpt+"/team/search/",{epic_id:a.ms_epic.epic_id,name:a.teamName}).success(function(b){b.isSuccess&&(a.teams=b.result&&b.result.teams?b.result.teams:[],a.fixTeams(a.teams),a.teams.length?a.hideMessage(a):a.showMessage(40059,a))})}var e;a.message={},a.sendApply=function(c){b.post(cmpt+"/team/apply",{team_id:c.team_id}).success(function(b){b.isSuccess?(a.teams.splice(a.teams.indexOf(c),1),a.showMessage(40050,a)):a.showError(b.code,a)})},a.$watch("teamName",function(a){void 0!==a&&c()}),a.$on("teamsCanJoin",d),a.searchTeam=d}]).controller("teamsApplySentCtrl",["$scope","$http",function(a,b){a.message={},a.$on("teamsApplySent",function(){a.teams&&a.teams.forEach(function(a){a.expanded=!1}),b.get(cmpt+"/team/myapply/"+a.ms_member.member_id).success(function(b){b.isSuccess&&(a.teams=b.result?Object.keys(b.result).map(function(a){return b.result[a]}):[],a.fixTeams(a.teams),a.teams.length?a.hideMessage(a):a.showMessage(40051,a))})})}]).controller("teamsBeingInvitedCtrl",["$scope","$http",function(a,b){a.message={},a.$on("teamsBeingInvited",function(){a.teams&&a.teams.forEach(function(a){a.expanded=!1}),b.get(cmpt+"/team/myinvition/"+a.ms_member.member_id).success(function(b){b.isSuccess&&(a.teams=b.result?Object.keys(b.result).map(function(a){return b.result[a]}):[],a.fixTeams(a.teams),a.teams.length?a.hideMessage(a):a.showMessage(40052,a))})}),a.acceptInvite=function(c){b.post(cmpt+"/team/acceptInvite",{team_id:c.team_id}).success(function(b){b.isSuccess?a.showMessage(40053,a):a.showError(b.code,a),b.isSuccess&&(a.$emit("joinTeamSuccess",c),a.teams.splice(a.teams.indexOf(c),1))})}}]).controller("peopleCanJoinCtrl",["$scope","$http",function(a,b){function c(){clearTimeout(e),e=setTimeout(d,300)}function d(){b.post(cmpt+"/team/membersearch",{name:a.memberName,university:a.memberName,epic_id:a.ms_epic.epic_id}).success(function(b){b.isSuccess&&(a.persons=b.result||[],a.fixMembers(a.persons),a.persons.length?a.hideMessage(a):a.showMessage(40054,a))})}var e;a.message={},a.$watch("memberName",function(a){void 0!==a&&c()}),a.searchMember=d,a.$on("peopleCanJoin",d),a.sendInvite=function(c){b.post(cmpt+"/team/invite",{be_invited_id:c.member_id,team_id:a.ms_team.team_id}).success(function(b){b.isSuccess?(a.showMessage(40055,a),a.persons.splice(a.persons.indexOf(c),1)):a.showError(b.code,a)})}}]).controller("peopleInvitedCtrl",["$scope","$http",function(a,b){a.message={},a.$on("peopleInvited",function(){b.get(cmpt+"/team/invitefor/"+a.ms_member.member_id).success(function(b){b.isSuccess&&(a.persons=b.result?b.result.map(function(a){return a.member}):[],a.fixMembers(a.persons),a.persons.length?a.hideMessage(a):a.showMessage(40057,a))})})}]).controller("peopleWantToJoinCtrl",["$scope","$http",function(a,b){a.message={},a.$on("peopleWantToJoin",function(){b.get(cmpt+"/team/applierByTeam/"+a.ms_team.team_id).success(function(b){b.isSuccess&&(a.members=b.result||[],a.fixMembers(a.members),a.members.length?a.hideMessage(a):a.showMessage(40056,a))})}),a.acceptApply=function(c){b.post(cmpt+"/team/acceptApply",{applier_id:c.member_id,team_id:a.ms_team.team_id}).success(function(b){a.$emit("acceptApplySuccess"),b.isSuccess?(a.showMessage(40058,a),a.members.splice(a.members.indexOf(c),1)):a.showError(b.code,a)})}}]).controller("seriesCtrl",["$scope","$http",function(a,b){}]).controller("experimentCtrl",["$scope","$http",function(a,b){}]).controller("nationalCtrl",["$scope","$http",function(a,b){a.nationalEpics=[],a.$watch("ms_series.epics",function(b){b&&(b.forEach(function(b){b.region&&(b.regionCode=a.translateRegion(b.region)),40060==b.regionCode&&a.nationalEpics.push(b)}),a.filterEpics=[].concat(a.nationalEpics))}),a.filterEpics=[],a.$on("area/choose",function(b,c){a.$apply(function(){a.filterEpics=a.ms_series.epics.filter(function(a){return a.regionCode==c}).concat(a.nationalEpics)})})}]).controller("seasonCtrl",["$scope","$http",function(a,b){a.$watch("ms_series",function(b){if(b&&b.epics){a.epics=[];var c={};b.epics.forEach(function(a){var b=a.epic_game_from;b=new Date(b.getFullYear(),b.getMonth(),b.getDate()),c[b]=c[b]||[],c[b].push(a)}),Object.keys(c).forEach(function(b){a.epics.push({date:new Date(b),epics:c[b]})}),a.epics.sort(function(a,b){return a.date-b.date}),c=null}})}]).controller("countdownCtrl",["$scope","$timeout","$http",function(a,b,c){function d(){a.createMettingRoomSuccess||a.creatingMettingRoom||a.showLinkOfMettingRoom||(a.readyToCreateMettingRoom=!0)}function e(){var c=Date.now();if(!(l-c>q)){if(c+p>l&&m>c-2*q?a.showGameLink=!0:a.showGameLink=!1,c>=m)return a.gameEnded=!0,a.inGaming=!1,a.willStart=!1,void(a.showSignEnded=!1);if(m>c&&c>=l)return a.inGaming=!0,a.willStart=!1,d(),void(a.showSignEnded=!1);a.willStart=!0,a.showSignEnded=!1,k=l-c,p>k&&d(),k/=n,k|=0,j=k%60,k/=60,k|=0,i=k%60,k/=60,k|=0,h=k%60,a.countdownMsg=(10>h?"0":"")+h+":"+(10>i?"0":"")+i+":"+(10>j?"0":"")+j,b(e,1e3)}}function f(){a.readyToCreateMettingRoom=!1,a.creatingMettingRoom=!1,a.createMettingRoomSuccess=!1,a.showLinkOfMettingRoom=!0}function g(){a.readyToCreateMettingRoom=!1,a.creatingMettingRoom=!0,a.createMettingRoomSuccess=!1,a.showLinkOfMettingRoom=!1,c.post(cmpt+"/metting/join",{campaignId:a.ms_epic.epic_id,teamId:a.ms_team.team_id,memberName:a.ms_member.show_name,memberId:a.ms_member.member_id}).success(function(c){return c.isSuccess&&c.result?(a.readyToCreateMettingRoom=!1,a.creatingMettingRoom=!1,a.createMettingRoomSuccess=!0,a.linkOfMettingRoom=c.result,void b(f,3e3)):void b(a.joinMeetingRoom,3e3)})}a.countdownMsg="",a.showGameLink=!1,a.willStart=!1,a.inGaming=!1,a.gameEnded=!1;var h,i,j,k,l=a.ms_epic.epic_game_from,m=a.ms_epic.epic_game_end,n=1e3,o=60*n,p=60*o,q=24*p;b(e,1e3),a.joinMeetingRoom=g,a.showSignEnded=!0}]).controller("gameRoomCtrl",["$scope","$http",function(a,b){function c(c){c&&a.ms_epic&&(b.post(cmpt+"/board/epic/team",{epic_id:a.ms_epic.epic_id,team_id:c}).success(function(b){b.isSuccess&&b.result&&a.updateTeamRoom(b.result)}),b.post(cmpt+"/board/teamBoard",{epic_id:a.ms_epic.epic_id,team_id:c}).success(function(b){if(b.isSuccess&&b.result){for(var c=0,d=b.result.length;d>c;c++)if(b.result[c].score&&b.result[c].score.rank){a.currentRound=b.result[c].score.rank.length;break}b.isSuccess&&b.result&&(b.result.forEach(a.fixTeam),a.teamsInRoom=b.result,a.teamsInRoomView=a.teamsInRoom)}}))}function d(b){var c=a.teamsInRoom.map(function(a){return a});return c.sort(function(a,c){return a.score?c.score?a.score.rank?c.score.rank?a.score.rank.length<=b?1:c.score.rank.length<=b?-1:a.score.rank[b]-c.score.rank[b]:-1:1:-1:1}),c}a.teamsInRoom=[],a.rounds=[],a.$watch("ms_epic.round",function(b){if(!b)return void(a.rounds=[0,1,2,3]);for(var c=[],d=0;b>d;d++)c.push(d);a.rounds=c}),a.$watch(a.isSharePage?"share_team.team_id":"ms_team.team_id",c),a.selectedRound=-1,a.currentRound=-1,a.toggleRank=function(b){return b==a.selectedRound?(a.selectedRound=-1,void(a.teamsInRoomView=a.teamsInRoom)):void(b>=a.currentRound||(a.selectedRound=b,a.teamsInRoomView=d(b)))},a.selectedMember=null,a.toggleImage=function(a,b){return a.selectedMember===b?a.selectedMember=null:void(a.selectedMember=b)}}]).controller("epicValidateCtrl",["$scope","$http",function(a,b){a.showError=!1,a.error=null,a.submit=function(b){this.submitted=!0,b&&this.validateEpic(this.ms_epic.epic_id,this.security_key,function(b){var c=b.isSuccess&&b.result;a.showError=!c,a.error=!c})},a.$watch("epicValidateForm.$valid",function(b){a.showError=!b,a.error=null})}]).controller("personalRecordCtrl",["$scope","$http",function(a,b){a.epics={};var c=[];b.get(cmpt+"/rank/my/").success(function(b){b.isSuccess&&(b.result||(b.result=[]),b.result.forEach(function(b){b.team&&a.fixTeam(b.team),b.epics&&b.epics.forEach(function(d){a.fixEpic(d),a.fixTeam(d.team),d.seriesType=b.type,c.push(d)})}),c.sort(function(a,b){return b.epic_game_from-a.epic_game_from}),a.records=c)})}]).controller("gameCertificateCtrl",["$scope","$http",function(a,b){function c(){b.post(cmpt+"/certification/fetch/",{epic_id:a.epic_id,certificate_type:a.type}).success(function(b){if(b.isSuccess){if(!b.result)return setTimeout(c,1500);a.certification=b.result}})}a.rights={chinese:a.offers.chinese_cert.offerId,english:a.offers.english_cert.offerId},c(),a.apply=function(){b.get(cmpt+"/certification/products/").success(function(b){b.isSuccess&&(a.rights.noRight=0==b.result.filter(function(a){return a.count>0}).length)})}}]).controller("gameCertAddressCtrl",["$scope","$http",function(a,b){a.info={},a.address={},a.modal={},a.rights={chinese:{id:a.offers.chinese_cert.productTypeId,offerId:a.offers.chinese_cert.offerId,count:0},english:{id:a.offers.english_cert.productTypeId,offerId:a.offers.english_cert.offerId,count:0}},b.get(cmpt+"/certification/products/").success(function(b){if(b.isSuccess){var c=0;b.result.forEach(function(b){return b.id==a.rights.chinese.id?(c+=b.count,void(a.rights.chinese.count=b.count)):b.id==a.rights.english.id?(c+=b.count,void(a.rights.english.count=b.count)):void 0}),c||(a.modal.noRight=!0)}}),a.submit=function(){var c=[];a.info.english&&c.push(a.rights.english.id),a.info.chinese&&c.push(a.rights.chinese.id),b.post(cmpt+"/certification/buyCertificate",{products:c,address:JSON.stringify(a.address)}).success(function(b){b.isSuccess?a.modal.applied=!0:a.modal.noRight=!0})}}]).controller("gameCertReportCtrl",["$scope","$http",function(a,b){function c(){b.post(cmpt+"/certification/fetchreport/",{epic_id:a.epic_id,certificate_type:a.type}).success(function(b){b.isSuccess&&(a.certification=b.result)})}a.modal={},a.rights={report:{id:a.offers.report.productTypeId,offerId:a.offers.report.offerId}},a.sendApply=function(){b.post(cmpt+"/certification/buyReport",{epic_id:a.epic_id,products:[a.rights.report.id]}).success(function(b){if(b.isSuccess)a.modal.applied=!0,c();else{if(70011==b.code)return c();a.modal.noRight=!0}})},c()}]).controller("rankingCtrl",angular.cmpt.rankingCtrl).filter("trusted",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]),angular.module("cmpt").run(["$templateCache",function(a){"use strict";a.put("template/additional.html",'<div class="additional" ng-if="!share_team && !ms_team && ms_epic && ms_member">\n	<div ng-show="ms_epic.max_team_member_count <= ms_epic.memberCount">\n		报名已满\n		<p>已有{{ms_epic.memberCount}}人报名完成。\n			<br/> 真可惜错过了这场比赛,赶紧抢先报名其他的比赛吧。!</p>\n	</div>\n	<div ng-show="ms_epic.epic_sign_from > now">\n		报名尚未开始\n		<p>看看其他可以报名的比赛吧!</p>\n	</div>\n	<div ng-show="ms_epic.epic_sign_end < now && now < ms_epic.epic_game_from">\n		报名已经结束\n	</div>\n	<div ng-show="now < ms_epic.epic_game_from && ms_epic.epic_game_end < now">\n		比赛已经结束\n	</div>\n	<div ng-show="ms_epic.epic_game_end < now">\n		比赛已经结束\n	</div>\n</div>'),a.put("template/countdown.html",'<div class="countdown" ng-if="teamRoom && ms_team && ms_member && (ms_epic.epic_sign_end < now)" ng-controller="countdownCtrl">\n    <div ng-show="showSignEnded">\n        报名已经结束\n    </div>\n    <div ng-show="willStart">\n        <span class="timestamp">\n			{{countdownMsg}}\n		</span> {{40212|translate}}\n        <a target="_blank" ng-href="{{cmpt + \'/marksimos?team_id=\' + ms_team.team_id + \'&partner=\' + site + \'&from=\' + site}}" class="btn" ng-if="ms_team" ng-show="showGameLink" ng-bind="40213|translate"></a>\n        <div ng-bind="40214|translate"></div>\n    </div>\n    <div ng-show="inGaming">\n        <span class="period" ng-bind="40215|translate"></span>\n        <a target="_blank" ng-href="{{cmpt + \'/marksimos?team_id=\' + ms_team.team_id + \'&partner=\' + site + \'&from=\' + site}}" class="btn" ng-if="ms_team" ng-show="showGameLink" ng-bind="40213|translate"></a>\n    </div>\n    <div ng-show="gameEnded">\n        <span class="period" ng-bind="40216|translate"></span>\n        <a target="_blank" ng-href="{{cmpt + \'/marksimos?team_id=\' + ms_team.team_id + \'&partner=\' + site + \'&from=\' + site}}" class="btn" ng-if="ms_team" ng-show="showGameLink" ng-bind="40213|translate"></a>\n    </div>\n    <div class="btns">\n        <button class="btn metting-btn create-meeting-btn" ng-show="readyToCreateMettingRoom" ng-click="joinMeetingRoom()">\n            <span class="icon"></span> {{40220|translate}}\n        </button>\n        <button class="btn metting-btn" ng-show="creatingMettingRoom">\n            <i class="circle notched icon"></i> {{40221|translate}}\n        </button>\n        <button class="btn metting-btn" ng-show="createMettingRoomSuccess">\n            <i class="circle thin icon"></i> {{40222|translate}}\n        </button>\n        <a class="btn metting-btn" target="_blank" ng-href="{{linkOfMettingRoom}}" ng-show="showLinkOfMettingRoom">\n            <i class="home icon"></i> {{40223|translate}}\n        </a>\n        <button class="btn invite-btn" ng-if="ms_epic.epic_id && ms_team.team_id" pop klass="qrpop" content="<div class=\'logo-mask\'></div><div class=\'qrcode\' qrcode src=\'QRCode(ms_epic.epic_id, ms_team.team_id)\'></div>">\n    		<i class="icon wechat"></i> {{40210|translate}}\n    	</button>\n    </div>\n</div>\n'),
a.put("template/epic.html",'<div ng-if="ms_epic && !epicIsValid(ms_epic)">\n	<epicvalidate></epicvalidate>\n</div>\n<div ng-if="ms_epic && epicIsValid(ms_epic)">\n	<epicinfo></epicinfo>\n	<gametraining ng-if="site!=\'hcd\'"></gametraining>\n	<teammember></teammember>\n	<upsell ng-if="site!=\'hcd\'"></upsell>\n	<teamjoin></teamjoin>\n	<additional></additional>\n	<countdown></countdown>\n	<gameroom></gameroom>\n</div>'),a.put("template/epic_mobile.html",'<div ng-if="ms_epic && !epicIsValid(ms_epic)">\n	<epicvalidate></epicvalidate>\n</div>\n<div ng-if="ms_epic && epicIsValid(ms_epic)">\n	<header-mobile></header-mobile>\n	<teammember-mobile></teammember-mobile>\n	<gameroom-mobile></gameroom-mobile>\n	<a ng-href="{{gameLink}}" class="game-link" ng-bind="40080|translate"></a>\n	<footer-mobile></footer-mobile>\n</div>'),a.put("template/epic_validate.html",'<div class="epic-validate">\n    <div class="epic-validate-title cloak">{{40250|translate}}</div>\n    <form novalidate name="epicValidateForm" ng-submit="submit(epicValidateForm.$valid)" class="ui form form-epic-validate" ng-controller="epicValidateCtrl">\n        <div class="error-msg" ng-class="{\'show\': submitted && showError}">\n            <div ng-show="epicValidateForm.security_key.$invalid">{{40254|translate}}</div>\n            <div ng-show="error">{{40251|translate}}</div>\n            <i class="remove icon" ng-click="showError=false"></i>\n        </div>\n        <div ng-class="{\'error\': submitted && epicValidateForm.security_key.$invalid}" class="field">\n            <div class="ui left icon input">\n                <i class="lock icon"></i>\n                <input name="security_key" ng-model="security_key" type="text" placeholder="{{40252|translate}}" required>\n            </div>\n        </div>\n        <div class="field">\n            <button ng-disabled="epicValidateForm.security_key.$invalid" class="action ui fluid large red submit button">{{40253|translate}}</button>\n        </div>\n    </form>\n</div>'),a.put("template/epicinfo.html",'<div class="epicinfo">\n	<div class="head">\n		<h2>{{ms_epic.title}}</h2>\n		<div>{{ms_epic.subtitle}}</div>\n		<div ng-if="!isSharePage && ms_epic.epic_id && ms_team.team_id">\n			<i class="big wechat icon home-wechat-share" pop klass="qrpop" content="<div class=\'logo-mask\'></div><div class=\'qrcode\' qrcode src=\'QRCode(ms_epic.epic_id, ms_team.team_id)\'></div>"></i>\n		</div>\n	</div>\n	<div class="body">\n		<div class="ui grid">\n			<div class="sixteen wide column">\n				<i class="calendar icon"></i> {{40023|translate}} {{formatDate(ms_epic.game_from)}} - {{formatDate(ms_epic.game_end, true)}}\n			</div>\n			<div class="sixteen wide column">\n				<i class="flag icon"></i> {{40024|translate}} {{formatDate(ms_epic.sign_from)}} - {{formatDate(ms_epic.sign_end, true)}}\n			</div>\n			<div class="eight wide column">\n				<i class="checkered flag icon"></i> {{translateRegion(ms_epic.region)|translate}}\n			</div>\n			<div class="eight wide column">\n				<i class="user icon"></i> {{ms_epic.memberCount}}\n			</div>\n		</div>\n		<div class="grid">\n			<div class="sixteen wide column" ng-bind-html="ms_epic.description|trusted">\n			</div>\n		</div>\n	</div>\n</div>'),a.put("template/experiment-list.html",'<div class="series_banner">\n	<img ng-src="{{cdn}}{{cmpt}}/img/banner_experiment_{{site}}.gif">\n</div>\n<div class="experiment-content" ng-controller="experimentCtrl">\n	<div class="ui three column grid">\n		<div class="column" ng-repeat="epic in ms_series.epics">\n			<div class="ui card experiment-card" ng-class="{available: epic.epic_game_end > now}" ng-click="epic.show=!epic.show">\n				<div class="content experiment-name">\n					<div class="epic_header">\n						{{epic.title}}\n					</div>\n				</div>\n				<div class="content">\n					<div class="description">\n						<div>\n							<i class="calendar icon"></i> {{formatDate(epic.epic_game_from)}}\n						</div>\n						<div>\n							<i class="user icon"></i> {{epic.memberCount||0}} {{40020 | translate}}\n						</div>\n					</div>\n				</div>\n				<div class="extra content">\n					<div class="text-right">\n						{{getTime(epic)}}\n					</div>\n				</div>\n				<div class="dimmer experiment-dimmer" ng-class="{active: epic.show}">\n					<div class="content">\n						<div class="center">\n							<p ng-bind-html="epic.description|trusted">\n							</p>\n							<div class="label">\n								<a ng-href="/{{lang}}{{cmpt}}/epic?epic_id={{epic.epic_id}}">\n									{{40019|translate}}\n								</a>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),a.put("template/footer_mobile.html",'<div class="footer-mobile">\n	<img ng-src="{{cdn + cmpt + \'/img/icon/\' + site + \'_service.jpg\'}}" alt="">\n	<div class="cloak">{{wechatName|translate}}{{40044|translate}}</div>\n</div>\n<div class="footer-link cloak">\n	{{40082|translate}}: <a ng-href="{{portalLink|translate}}">{{portalLink|translate}}</a>\n</div>\n'),a.put("template/game-certificate-address.html",'<div class="certification certification-address" ng-controller="gameCertAddressCtrl">\n    <div class="panel">\n        <div class="title">证书寄送地址</div>\n        <form name="form" novalidate ng-submit="apply(form.$valid)" class="ui form form-forgetpass">\n            <div class="field"></div>\n            <div class="required field" ng-class="{error:form.name.$invalid}">\n                <label>收件人</label>\n                <input type="text" name="name" ng-model="address.name" required>\n            </div>\n            <div class="required field" ng-class="{error:form.address.$invalid}">\n                <label>地址</label>\n                <input type="text" name="address" ng-model="address.address" required>\n            </div>\n            <div class="required field" ng-class="{error:form.phone.$invalid}">\n                <label>电话</label>\n                <input type="text" name="phone" ng-model="address.phone" required>\n            </div>\n            <div class="field" ng-class="{error:form.note.$invalid}">\n                <label>备注</label>\n                <textarea rows="3" name="note" ng-model="address.note"></textarea>\n            </div>\n            <div class="field">\n                <label>证书种类确认</label>\n            </div>\n            <div class="field" ng-class="{error: !info.english && !info.chinese}">\n                <div class="ui radio checkbox" checkbox model="info.chinese">\n                    <input type="radio" name="type" ng-disabled="!rights.chinese.count" class="hidden">\n                    <label>中文版证书 (\n                        <span ng-if="!rights.chinese.count">尚未购买</span>\n                        <span ng-if="rights.chinese.count">还剩{{rights.chinese.count}}次寄送机会</span> )\n                    </label>\n                </div>\n            </div>\n            <div class="field" ng-class="{error: !info.english && !info.chinese}">\n                <div class="ui radio checkbox" checkbox model="info.english">\n                    <input type="radio" name="type" ng-disabled="!rights.english.count" class="hidden">\n                    <label>英文版证书 (\n                        <span ng-if="!rights.english.count">尚未购买</span>\n                        <span ng-if="rights.english.count">还剩{{rights.english.count}}次寄送机会</span> )\n                    </label>\n                </div>\n            </div>\n            <div class="actions right">\n                <button class="ui button" ng-disabled="form.$invalid || (!info.english && !info.chinese)" ng-click="submit()">确认申请</button>\n                <div class="tip">点击确认您将使用一次纸质证书寄送机会</div>\n            </div>\n        </form>\n        <modal model="modal.noRight">\n            <div class="content">\n                <i class="remove icon" ng-click="closeModal()"></i>\n                <div class="message">抱歉, 您尚未购买{{info.english?\'英文\':\'中文\'}}纸质证书邮寄服务</div>\n                <div class="actions">\n                    <div class="label">权威认证, 助你求职升学</div>\n                    <a class="ui button" ng-if="info.chinese || (!info.chinese && !info.english)" ng-href="{{offerUrl(rights.chinese.offerId)}}">立即购买</a>\n                    <a class="ui button" ng-if="info.english" ng-href="{{offerUrl(rights.english.offerId)}}">立即购买</a>\n                </div>\n            </div>\n        </modal>\n        <modal model="modal.applied">\n            <div class="content">\n                <i class="remove icon" ng-click="closeModal()"></i>\n                <div class="message"><i class="icon success"></i>申请成功</div>\n                <div class="actions">\n                    <div class="label">分析报告将会于7个工作日产出。若长时间未收到，您可以拨打客服电话4009200153查询。</div>\n                </div>\n            </div>\n        </modal>\n    </div>\n</div>'),a.put("template/game-certificate-prize.html",'<div class="certification" ng-controller="gameCertificateCtrl">\n    <img ng-src="{{cdn}}{{cmpt}}/img/certification_banner.png?{{cdnVersion}}" class="banner">\n    <div class="panel">\n        <div class="title">奖状证书</div>\n        <div class="preview">\n            <div class="ui active inline centered loader" ng-hide="certification"></div>\n            <div ng-if="certification">\n                <img class="img" ng-src="{{certification.preview[0]}}" class="banner">\n                <div class="actions">\n                    <a class="ui button" target="_blank" ng-href="{{certification.url}}">下载电子版文件</a>\n                    <button class="ui button" ng-click="apply()">申请证书寄送</button>\n                </div>\n            </div>\n        </div>\n        <modal model="rights.noRight">\n            <div class="content">\n                <i class="remove icon" ng-click="closeModal()"></i>\n                <div class="message">抱歉, 您尚未购买纸质证书邮寄服务</div>\n                <div class="actions">\n                    <div class="label">权威认证, 助你求职升学</div>\n                    <a class="ui button" ng-href="{{offerUrl(rights.chinese)}}">立即购买(中文)</a>\n                    <a class="ui button" ng-href="{{offerUrl(rights.english)}}">立即购买(英文)</a>\n                </div>\n            </div>\n        </modal>\n    </div>\n</div>'),a.put("template/game-certificate-proof.html",'<div class="certification certification-proof" ng-controller="gameCertificateCtrl">\n    <img ng-src="{{cdn}}{{cmpt}}/img/certification_banner.png?{{cdnVersion}}" class="banner">\n    <div class="panel">\n        <div class="title">参赛证明</div>\n        <div class="preview">\n            <div class="ui active inline centered loader" ng-hide="certification"></div>\n            <div ng-if="certification">\n                <img class="img" ng-src="{{certification.preview[0]}}" class="banner">\n                <div class="actions">\n                    <a class="ui button" target="_blank" ng-href="{{certification.url}}">下载电子版文件</a>\n                    <button class="ui button" ng-click="apply()">申请证书寄送</button>\n                </div>\n            </div>\n        </div>\n        <modal model="rights.noRight">\n            <div class="content">\n                <i class="remove icon" ng-click="closeModal()"></i>\n                <div class="message">抱歉, 您尚未购买纸质证书邮寄服务</div>\n                <div class="actions">\n                    <div class="label">权威认证, 助你求职升学</div>\n                    <a class="ui button" ng-href="{{offerUrl(rights.chinese)}}">立即购买(中文)</a>\n                    <a class="ui button" ng-href="{{offerUrl(rights.english)}}">立即购买(英文)</a>\n                </div>\n            </div>\n        </modal>\n    </div>\n</div>'),a.put("template/game-certificate-report.html",'<div class="certification certification-report" ng-controller="gameCertReportCtrl">\n    <img ng-src="{{cdn}}{{cmpt}}/img/certification_report_banner.png?{{cdnVersion}}" class="banner">\n    <div class="panel">\n        <div class="title">分析报告</div>\n        <div class="preview">\n            <div class="ui active inline centered loader" ng-hide="certification"></div>\n            <div ng-if="certification">\n                <img class="img" ng-src="{{cdn}}{{cmpt}}/img/certification_report.jpg?{{cdnVersion}}" class="banner">\n                <div class="actions">\n                    <button ng-click="sendApply()" class="ui button" ng-show="certification.status == \'neverBuy\'">申请报告制作</button>\n                    <button class="ui button disabled" ng-show="certification.status == \'request\'">已申请报告制作</button>\n                    <a target="_blank" ng-href="{{certification.url}}" class="ui button" ng-show="certification.status == \'ready\'">下载分析报告</a>\n                    <div class="tip left" ng-if="certification.status == \'request\'">报告正在制作中，制作完成后将在此页面开放下载。</div>\n                </div>\n            </div>\n        </div>\n        <modal model="modal.noRight">\n            <div class="content">\n                <i class="remove icon" ng-click="closeModal()"></i>\n                <div class="message">抱歉, 您尚未购买商战结果报告</div>\n                <div class="actions">\n                    <div class="label">商战结果报告, 专业分析点评</div>\n                    <a class="ui button" ng-href="offerUrl(rights.report.offerId)">立即购买</a>\n                </div>\n            </div>\n        </modal>\n        <modal model="modal.applied">\n            <div class="content">\n                <i class="remove icon" ng-click="closeModal()"></i>\n                <div class="message">\n                    <i class="icon success"></i>申请成功\n                </div>\n                <div class="actions">\n                    <div class="label">\n                        分析报告将会于7个工作日产出。若长时间未收到，您可以拨打客服电话4009200153查询\n                    </div>\n                </div>\n            </div>\n        </modal>\n    </div>\n</div>'),a.put("template/game-menu.html",'<div class="ui fluid large vertical menu cloak">\n    <a ng-href="/{{lang}}{{cmpt}}/" class="item" ng-class="{\'active\':page===\'index\'}">\n        <i class="b-home icon"></i> {{40025|translate}}\n    </a>\n    <a ng-repeat="series in all_series"\n       ng-href="/{{lang}}{{cmpt}}/{{series.series_type}}?series_id={{series.series_id}}"\n       class="item"\n       ng-class="{\'active\':page===series.series_type && series_id === series.series_id}">\n        <i class="icon b-{{series.series_type}}"></i> {{series.title}}\n    </a>\n    <!--<a ng-if="ms_member" ng-href="/{{lang}}{{cmpt}}/record" class="item" ng-class="{\'active\':page===\'record\'}">\n        <i class="b-record icon"></i> {{40026|translate}}\n    </a>-->\n    <a ng-if="ms_member && site != \'hcd\'" ng-href="/{{lang}}{{cmpt}}/ranking" class="item" ng-class="{\'active\':page===\'ranking\'}">\n        <i class="b-rank icon"></i> {{40027|translate}}\n    </a>\n</div>\n'),a.put("template/game-personal-record.html",'<div class="record-list" ng-controller="personalRecordCtrl">\n    <div ng-if="records.length==0" class="message">\n        {{40259|translate}}\n    </div>\n    <div class="ui card record-card" ng-repeat="epic in records">\n        <div class="content record-name">\n            <div class="epic_header">\n                <img ng-src="{{cdn}}{{cmpt}}/img/icon/{{epic.seriesType}}.png">\n                <a target="_blank" class="title" ng-href="/{{lang}}{{cmpt}}/epic?epic_id={{epic.epic_id}}">{{epic.title}}</a>\n            </div>\n            <div class="meta">\n                <div class="ui horizontal list">\n                    <div class="item">\n                        <i class="calendar icon"></i> {{formatDateSimple(epic.epic_game_from, true, true)}}\n                    </div>\n                    <div class="item">\n                        共有{{epic.statistics.memberCount}}人参赛\n                    </div>\n                    <div class="item">\n                        分为{{epic.statistics.teamCount}}支队伍\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="content extra sesson-content">\n            <h2>{{epic.group_id}}-{{epic.room_id}}</h2>\n            <a class="ui button" ng-bind="40257|translate" ng-href="/{{lang}}{{cmpt}}/certification_prize?epic_id={{epic.epic_id}}&team_id={{epic.team.team_id}}" ng-if="epic.prize"></a>\n            <a class="ui button" ng-href="/{{lang}}{{cmpt}}/certification_proof?epic_id={{epic.epic_id}}&team_id={{epic.team.team_id}}" ng-bind="40258|translate"></a>\n            <a class="ui button" ng-href="/{{lang}}{{cmpt}}/certification_report?epic_id={{epic.epic_id}}&team_id={{epic.team.team_id}}" ng-bind="40256|translate"></a>\n        </div>\n        <div class="info-content ui grid" ng-click="epic.team.expanded=!epic.team.expanded">\n            <div class="three wide column">\n                <h2 ng-if="epic.prize">第{{epic.prize.rank}}名</h2>\n                <h2 ng-if="!epic.prize && epic.last_period_rank">第{{epic.last_period_rank}}名</h2>\n            </div>\n            <div class="five wide column">\n                <h5>{{epic.team.name}}</h5>\n            </div>\n            <div class="eight wide column avatars" ng-class="{invisible:epic.team.expanded}">\n                <div class="ui five column grid list">\n                    <div class="img column" ng-repeat="member in epic.team.members">\n                        <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="list" ng-show="epic.team.expanded">\n            <div class="ui items">\n                <div class="item ui grid images-expanded">\n                    <div class="images expanded">\n                        <div class="ui five column grid item">\n                            <div class="img column" ng-repeat="member in epic.team.members">\n                                <div class="card">\n                                    <div class="img">\n                                        <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n                                    </div>\n                                    <div class="title">\n                                        {{member.show_name}}\n                                    </div>\n                                    <div class="description">\n                                        <div class="university">{{member.university || \'&nbsp;\'}}</div>\n                                        <div class="major">{{member.major || \'&nbsp;\'}}</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),a.put("template/game-ranking-list.html",'<div class="rank-content">\n	<div class="ui top attached tabular menu rank-menu">\n		<a class="item active" data-tab="first">{{\'MapRankingList\' | translate}}</a>\n		<a class="item" data-tab="second">\n			<div class="content">\n\n				<div class="ui inline dropdown">\n					<div class="text">{{\'RankDongBeiDivision\' | translate}}</div>\n					<i class="dropdown icon"></i>\n					<div class="menu rank-drop-menu">\n						<div class="item" ng-class="{\'active\':c.value===selectCategory}" ng-repeat="c in catetories" data-text="{{c.title | translate}}" data-value="{{c.value}}">{{c.title | translate}} <i class="checkmark icon" ng-show="c.value===selectCategory"></i></div>\n					</div>\n				</div>\n			</div>\n		</a>\n		<div class="ui basic button wechat-button rank-wechat-share" data-html="<img src=\'/img/b-wechat.jpg\' class=\'ui large image\'>" data-position="bottom center">\n			<i class="wechat icon"></i>{{\'MapRankWechatShare\' | translate}}\n		</div>\n	</div>\n	<div class="ui bottom attached tab segment rank-segment active" data-tab="first">\n		<table class="ui table center aligned rank-table" ng-cloak>\n			<thead>\n				<tr>\n					<th class="bottom aligned">{{\'MapRankRank\' | translate}}</th>\n					<th class="bottom aligned">{{\'MapRankPalyer\' | translate}}</th>\n					<th class="ability">\n						<i class="home big icon"></i>\n						<br>{{\'MapRankAverageAbility\' | translate}}\n					</th>\n					<th class="ability">\n						<i class="bar chart big icon"></i>\n						<br>{{\'MapRankSkill1\' | translate}}\n					</th>\n					<th class="ability">\n						<i class="users big icon"></i>\n						<br>{{\'MapRankSkill2\' | translate}}\n					</th>\n					<th class="ability">\n						<i class="calculator big icon"></i>\n						<br>{{\'MapRankSkill3\' | translate}}\n					</th>\n					<th class="ability">\n						<i class="bullseye big icon"></i>\n						<br>{{\'MapRankSkill4\' | translate}}\n					</th>\n					<th class="ability">\n						<i class="comments outline big icon"></i>\n						<br>{{\'MapRankSkill5\' | translate}}\n					</th>\n				</tr>\n			</thead>\n			<tbody>\n				<tr>\n					<td>\n						<img src="/img/icon/crown.png" class="crown">\n						<h5>1</h5>\n					</td>\n					<td class="avatar">\n						<img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 天宝\n					</td>\n					<td class="error">5</td>\n					<td>2</td>\n					<td>5</td>\n					<td>5</td>\n					<td>7</td>\n					<td>10</td>\n				</tr>\n				<tr>\n					<td>\n						<img src="/img/icon/crown.png" class="crown">\n						<h5>2</h5>\n					</td>\n					<td class="avatar">\n						<img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 周星星\n					</td>\n					<td class="error">5</td>\n					<td>2</td>\n					<td>5</td>\n					<td>5</td>\n					<td>7</td>\n					<td>10</td>\n				</tr>\n				<tr>\n					<td>\n						<img src="/img/icon/crown.png" class="crown">\n						<h5>3</h5>\n					</td>\n					<td class="avatar">\n						<img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 林志玲\n					</td>\n					<td class="error">5</td>\n					<td>2</td>\n					<td>5</td>\n					<td>5</td>\n					<td>7</td>\n					<td>10</td>\n				</tr>\n				<tr class="null-tr">\n					<td colspan="8"></td>\n				</tr>\n				<tr class="second-table-tr">\n					<td>\n						<h5>90</h5>\n					</td>\n					<td class="avatar">\n						<img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 范冰冰\n					</td>\n					<td class="error">5</td>\n					<td>2</td>\n					<td>5</td>\n					<td>5</td>\n					<td>7</td>\n					<td>10</td>\n				</tr>\n				<tr class="error">\n					<td>\n						<h5>91</h5>\n					</td>\n					<td class="avatar">\n						<img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 陈大民\n					</td>\n					<td class="error">5</td>\n					<td>2</td>\n					<td>5</td>\n					<td>5</td>\n					<td>7</td>\n					<td>10</td>\n				</tr>\n				<tr>\n					<td>\n						<h5>92</h5>\n					</td>\n					<td class="avatar">\n						<img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 郭晓静\n					</td>\n					<td class="error">5</td>\n					<td>2</td>\n					<td>5</td>\n					<td>5</td>\n					<td>7</td>\n					<td>10</td>\n				</tr>\n			</tbody>\n		</table>\n	</div>\n	<div class="ui bottom attached tab segment rank-segment" data-tab="second">\n		<table class="ui table center aligned rank-table">\n			<thead>\n				<tr>\n					<th>{{\'MapRankRank\' | translate}}</th>\n					<th>{{\'MapRankPopularity\' | translate}}</th>\n					<th>{{\'MapRankTeamName\' | translate}}</th>\n					<th width="70%">{{\'MapRankTeamMember\' | translate}}</th>\n				</tr>\n			</thead>\n			<tbody>\n				<tr>\n					<td>\n						<img src="/img/icon/crown.png" class="crown">\n						<h5>1</h5>\n					</td>\n					<td>10</td>\n					<td>无敌铁金刚-{{selectCategory}}</td>\n					<td>\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n					</td>\n				</tr>\n				<tr>\n					<td>\n						<img src="/img/icon/crown.png" class="crown">\n						<h5>2</h5>\n					</td>\n					<td>9</td>\n					<td>听妈妈的话-{{selectCategory}}</td>\n					<td>\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n					</td>\n				</tr>\n				<tr>\n					<td>\n						<img src="/img/icon/crown.png" class="crown">\n						<h5>3</h5>\n					</td>\n					<td>8</td>\n					<td>OpenMind-{{selectCategory}}</td>\n					<td>\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n					</td>\n				</tr>\n				<tr class="null-tr">\n					<td colspan="8"></td>\n				</tr>\n				<tr class="second-table-tr">\n					<td>\n						<h5>90</h5>\n					</td>\n					<td>4</td>\n					<td>今生今世-{{selectCategory}}</td>\n					<td>\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n					</td>\n				</tr>\n				<tr class="error">\n					<td>\n						<h5>91</h5>\n					</td>\n					<td>3</td>\n					<td>陈大民的团队-{{selectCategory}}</td>\n					<td>\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n					</td>\n				</tr>\n				<tr>\n					<td>\n						<h5>92</h5>\n					</td>\n					<td>2</td>\n					<td>绿巨人-{{selectCategory}}</td>\n					<td>\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n						<img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\n					</td>\n				</tr>\n			</tbody>\n		</table>\n	</div>\n</div>'),a.put("template/game-ranking.html",'<div ng-controller="rankingCtrl" style="padding-top:0px">\n    <div class="ui equal width center aligned padded grid">\n        <div class="row ranking-row ranking-title-container">\n            <div ng-class="{\'ranking-active\':option===$index}" class="column ranking-options ranking-cell" ng-click="rankChange($index)" ng-repeat="titleOption in titleOptions">{{titleOption[0]}} - {{subTitleOptions[subOption[$index]]}}\n                <div ng-show="option===$index" class="ranking-subtitle-container">\n                    <div ng-class="{\'ranking-suboption-active\':subOption[option]===$index}" class="ranking-subtitle-item" ng-click="subTileChange($index)" ng-repeat="subTitleOption in subTitleOptions" ng-bind-template="{{subTitleOption}}"></div>\n                </div>\n            </div>\n        </div>\n        <div ng-class="\'ranking-detail\'+$index" class="row ranking-row" ng-repeat="detail in details">\n            <div class="four wide column ranking-rank ranking-cell" ng-bind-template="{{detail.rank}}">\n            </div>\n            <div class="seven wide column ranking-name ranking-cell" ng-bind-template="{{detail.name}}">\n            </div>\n            <div class="five wide column ranking-score ranking-cell" ng-bind-template="{{detail.score}}">\n            </div>\n        </div>\n    </div>\n</div>'),a.put("template/game-training.html",'<div class="ui three column grid gametraining">\n    <div class="column">\n        <a class="b-competion-gametraining-download" href="/game-training#download">&nbsp;</a>\n    </div>\n    <div class="column">\n        <a class="b-competion-gametraining-watch" href="/game-training#watch">&nbsp;</a>\n    </div>\n    <div class="column">\n        <a class="b-competion-gametraining-online-classroom" href="http://www.zhumu.me/downloads/download.html" target="_blank">&nbsp;</a>\n    </div>\n</div>\n'),a.put("template/gameroom-mobile.html",'<div class="gameroom list" ng-controller="gameRoomCtrl" ng-if="ms_epic" ng-show="teamsInRoom.length">\n    <div class="search">\n        <label ng-bind="teamRoom.group_id + \'-\' + teamRoom.room_id"></label>\n        <div class="rounds">\n            <span class="round" ng-repeat="round in rounds" ng-class="{active: currentRound > round, highlight: selectedRound == round}" ng-click="toggleRank(round)" ng-bind="round+1"></span>\n            <span ng-bind="40120|translate"></span>\n        </div>\n    </div>\n    <div class="ui items">\n        <div ng-repeat="team in teamsInRoomView" class="ui items">\n            <div class="item mobile-team-list">\n                <div class="mobile-team-name" ng-class="{crown:(selectedRound > -1) && ($index < 3)}">\n                    {{team.name}}\n                </div>\n                <div class="images minor mobile-team-images">\n                    <div class="img column" ng-repeat="member in team.members" ng-click="toggleImage(team, member)">\n                        <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n                    </div>\n                </div>\n            </div>\n            <div class="list" ng-if="team.selectedMember">\n                <div class="item mobile-team-member">\n                    <div class="card">\n                        <div class="img">\n                            <img class="gender-{{team.selectedMember.gender.toLowerCase()}}" ng-src="{{team.selectedMember.avatar}}">\n                        </div>\n                        <div class="title">\n                            {{team.selectedMember.show_name}}\n                        </div>\n                        <div class="description">\n                            <div class="university">{{team.selectedMember.university || \'&nbsp;\'}}</div>\n                            <div class="major">{{team.selectedMember.major || \'&nbsp;\'}}</div>\n                            <div class="mobile-num">{{team.selectedMember.mobile || \'&nbsp;\'}}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),a.put("template/gameroom.html",'<div class="gameroom list" ng-controller="gameRoomCtrl" ng-show="teamsInRoom.length">\n    <div class="search">\n        <label ng-bind="teamRoom.group_id + \'-\' + teamRoom.room_id"></label>\n        <div class="rounds">\n            <span class="round" ng-repeat="round in rounds" ng-class="{active: currentRound > round, highlight: selectedRound == round}" ng-click="toggleRank(round)" ng-bind="round+1"></span>\n            <span ng-bind="40120|translate"></span>\n        </div>\n    </div>\n    <div class="ui items">\n        <div ng-repeat="team in teamsInRoomView" class="ui items">\n            <div class="item ui grid" ng-class="{expanded:team.expanded}" ng-click="team.expanded=!team.expanded">\n                <div class="middle aligned content one wide column">\n					<div class="crown" ng-if="(selectedRound > -1) && ($index < 3)">&nbsp;</div>\n                </div>\n                <span class="name middle aligned content five wide column">\n					{{team.name}}\n				</span>\n                <div class="images ten wide column minor" ng-class="{invisible:team.expanded}">\n                    <div class="ui five column grid">\n                        <div class="img column" ng-repeat="member in team.members">\n                            <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="item ui grid images-expanded" ng-show="team.expanded">\n                <div class="images expanded">\n                    <div class="ui five column grid">\n                        <div class="img column" ng-repeat="member in team.members">\n                            <div class="card">\n                                <div class="img">\n                                    <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n                                </div>\n                                <div class="title">\n                                    {{member.show_name}}\n                                </div>\n                                <div class="description">\n                                    <div class="university">{{member.university || \'&nbsp;\'}}</div>\n                                    <div class="major">{{member.major || \'&nbsp;\'}}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),
a.put("template/header_mobile.html",'<div class="header-mobile">\n	<div class="mobile-logo"></div>\n</div>\n'),a.put("template/national-list.html",'<div class="series_banner">\n	<img ng-src="{{cdn}}{{cmpt}}/img/banner_national_{{site}}.gif">\n</div>\n<div class="national-content" ng-controller="nationalCtrl">\n	<div class="ui grid">\n		<div class="ten wide column map-column">\n			<div china-map></div>\n		</div>\n		<div class="six wide column">\n			<div class="ui cards national-cards">\n				<div class="card" ng-class="{available:epic.epic_game_end > now}" ng-repeat="epic in filterEpics" ng-click="epic.show=!epic.show">\n					<div class="content national-name">\n						<div class="epic_header">{{epic.title}}</div>\n					</div>\n					<div class="content">\n						<div class="description">\n							<div>\n								<i class="calendar icon"></i> {{formatDate(epic.epic_game_from)}}\n							</div>\n							<div>\n								<i class="user icon"></i> {{epic.memberCount||0}}{{40020 | translate}}\n							</div>\n						</div>\n					</div>\n					<div class="extra content">\n						<div class="text-right">\n							{{getTime(epic)}}\n						</div>\n					</div>\n					<div class="dimmer national-dimmer" ng-class="{active: epic.show}">\n						<div class="content">\n							<div class="center">\n								<p ng-bind-html="epic.description|trusted"></p>\n								<div class="label">\n									<a ng-href="/{{lang}}{{cmpt}}/epic?epic_id={{epic.epic_id}}">\n									{{40019|translate}}\n								</a>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),a.put("template/people_can_join.html",'<div class="people-can-join list" ng-controller="peopleCanJoinCtrl">\n	<div class="message" ng-show="message.show">\n		<div class="error" ng-show="message.error">\n			{{message.error|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n		<div class="text" ng-show="message.text">\n			{{message.text|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n	</div>\n	<div class="ui search">\n		<div class="ui left icon input">\n			<i class="icon search"></i>\n			<input type="text" class="search-input" placeholder="{{40016|translate}}" ng-model="memberName">\n		</div>\n	</div>\n	<div class="persons ui items">\n		<div class="item ui grid">\n			<div class="sixteen wide column">\n				<div class="ui five column grid">\n					<div class="img column" ng-repeat="person in persons">\n						<div class="card">\n							<div class="img">\n								<img class="gender-{{person.gender.toLowerCase()}}" ng-src="{{person.avatar}}">\n							</div>\n							<div class="title">\n								{{person.show_name}}\n							</div>\n							<div class="description">\n								<div class="university">{{person.university || \'&nbsp;\'}}</div>\n								<div class="major">{{person.major || \'&nbsp;\'}}</div>\n							</div>\n						</div>\n						<button class="btn" ng-click="sendInvite(person)">\n							<i class="icon plus"></i>{{40015|translate}}\n						</button>\n					</div>\n				</div>\n			</div>\n		</div>\n		<div class="change item" ng-show="persons.length">\n			<button class="btn" ng-click="searchMember()">{{40211|translate}}</button>\n		</div>\n	</div>\n</div>'),a.put("template/people_invited.html",'<div class="people-invited list" ng-controller="peopleInvitedCtrl">\n	<div class="message" ng-show="message.show">\n		<div class="error" ng-show="message.error">\n			{{message.error|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n		<div class="text" ng-show="message.text">\n			{{message.text|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n	</div>\n	<div class="persons ui items">\n		<div class="item ui grid">\n			<div class="sixteen wide column">\n				<div class="ui five column grid">\n					<div class="img column" ng-repeat="person in persons">\n						<div class="card">\n							<div class="img">\n								<img class="gender-{{person.gender.toLowerCase()}}" ng-src="{{person.avatar}}">\n							</div>\n							<div class="title">\n								{{person.show_name}}\n							</div>\n							<div class="description">\n								<div class="university">{{person.university || \'&nbsp;\'}}</div>\n								<div class="major">{{person.major || \'&nbsp;\'}}</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),a.put("template/people_want_to_join.html",'<div class="people-want-to-join list" ng-controller="peopleWantToJoinCtrl">\n	<div class="message" ng-show="message.show">\n		<div class="error" ng-show="message.error">\n			{{message.error|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n		<div class="text" ng-show="message.text">\n			{{message.text|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n	</div>\n	<div class="persons ui items">\n		<div class="item ui grid">\n			<div class="sixteen wide column">\n				<div class="ui five column grid">\n					<div class="img column" ng-repeat="member in members">\n						<div class="card">\n							<div class="img">\n								<img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n							</div>\n							<div class="title">\n								{{member.show_name}}\n							</div>\n							<div class="description">\n								<div class="university">{{member.university || \'&nbsp;\'}}</div>\n								<div class="major">{{member.major || \'&nbsp;\'}}</div>\n							</div>\n						</div>\n						<button class="btn" ng-click="acceptApply(member)">\n							<i class="icon checkmark"></i>{{40013|translate}}\n						</button>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),a.put("template/profile.html",'<div class="profile-box">\n	<div class="base-profile">\n		<img class="ui middle aligned image" src="/img/salespage/wilfried.png">\n		<span>陈大民</span>\n	</div>\n	<div class="ui divider"></div>\n	<div class="ui two column grid">\n		<div class="column">\n			<i class="dollar big icon"></i> {{\'MapHomeBridgeCoins\' | translate}}：99\n		</div>\n		<div class="column">\n			<i class="configure big icon"></i> {{\'MapHomeSkills\' | translate}}：5\n		</div>\n	</div>\n	<div class="ui divider"></div>\n	<div radar-map class="small-rader" data="data"></div>\n	<div class="lists">\n		<i class="flag big icon"></i> {{\'MapHomeAchievement\' | translate}}\n	</div>\n	<div class="lists">\n		<button class="ui grey basic button fluid" ng-click="selectDirectiveItem(\'personalRecord\')">{{\'MapHomePersonalRecord\' | translate}}</button>\n	</div>\n	<div>\n		<button class="ui grey basic button fluid" ng-click="selectDirectiveItem(\'rankingList\')">{{\'MapHomeRankingList\' | translate}}</button>\n	</div>\n</div>'),a.put("template/season-list.html",'<div class="series_banner">\n	<img ng-src="{{cdn}}{{cmpt}}/img/banner_season_{{site}}.gif">\n</div>\n<div class="season-content cloak" ng-controller="seasonCtrl">\n	<div class="timeline">\n		<div class="timeline-content" ng-repeat="epic in epics" ng-class="{first: epic === epics[0], last: epic === epics.length - 1}">\n			<div class="ui three column grid timeline-content-grid" ng-class="{available: epic.epic_game_end > now}">\n				<div class="three wide column">\n					<p class="text-right">\n						{{formatDateSimple(epic.date, true)}}\n					</p>\n				</div>\n				<div class="one wide column time-line">\n				</div>\n				<div class="twelve wide column">\n					<div ng-repeat="item in epic.epics" class="ui card season-card fluid" ng-class="{available: item.epic_game_end > now}" ng-click="item.show=!item.show">\n						<div class="content season-name">\n							<div class="epic_header">{{item.title}} {{translateRegion(item.region)|translate}}</div>\n						</div>\n						<div class="content">\n							<div class="description">\n								<div class="left floated">\n									<i class="user icon"></i> {{item.memberCount||0}}{{40020 | translate}}\n								</div>\n								<div class="right floated">\n									{{getTime(item)}}\n								</div>\n							</div>\n						</div>\n						<div class="dimmer season-dimmer" ng-class="{active: item.show}">\n							<div class="content">\n								<div class="center">\n									<p ng-bind-html="item.description|trusted">\n									</p>\n									<div class="label">\n										<a ng-href="/{{lang}}{{cmpt}}/epic?epic_id={{item.epic_id}}">\n											{{40019|translate}}\n										</a>\n									</div>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),a.put("template/series-list.html",'<div class="cloak" ng-controller="seriesCtrl">\n	<div ng-repeat="series in all_series">\n		<div class="series_banner">\n			<a ng-href="/{{lang}}{{cmpt}}/{{series.series_type}}?series_id={{series.series_id}}">\n				<img ng-src="{{series.logo || (cdn + cmpt + \'/img/banner_\' + series.series_type + \'_\' + site +\'.png\')}}" />\n			</a>\n		</div>\n		<div class="available-lists">\n			<div class="available-list" ng-if="epic.team" ng-repeat="epic in series.epics">\n				<div class="ui grid">\n					<div class="sixteen wide column">\n						<div class="list-title">\n							<a ng-href="/{{lang}}{{cmpt}}/epic?epic_id={{epic.epic_id}}">\n								<h3>\n									{{epic.title}}, \n									{{getTeamTime(epic, epic.team.teamMemberCount - 3)}}\n								</h3>\n							</a>\n						</div>\n						<div class="list-content">\n							<i class="user icon" ng-class="{active: epic.team.teamMemberCount >= epic.max_team_member_count}"></i>\n							<label>\n								{{epic.team.teamMemberCount}} / {{epic.max_team_member_count}}\n							</label>\n							<label>\n								{{epic.team.name}}\n							</label>\n						</div>\n					</div>\n					<!--<div class="two wide column">\n						<div class="wechat">\n							<i class="big wechat icon home-wechat-share" pop klass="qrpop" content="<div class=\'logo-mask\'></div><div class=\'qrcode\' qrcode src=\'QRCode(epic.epic_id, epic.team.id)\'></div>"></i>\n						</div>\n					</div>-->\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),a.put("template/teamjoin.html",'<div ng-controller="teamjoinCtrl" class="teamjoin cloak" ng-show="!share_team && ms_member" ng-if="ms_epic.epic_sign_from < now && ms_epic.epic_sign_end > now">\n	<div class="actions ui grid hide" ng-show="!share_team && ms_member && !ms_team">\n		<div class="six wide column">\n			<div class="toggle">\n				<div class="{{tab.name}}" ng-repeat="tab in tabs">\n					<button class="btn" ng-class="{selected:selected===tab}" ng-click="toggle(tab)" ng-show="showTabHeader(tab)">\n						{{tab.label|translate}}\n					</button>\n				</div>\n			</div>\n		</div>\n	</div>\n	<div class="contents">\n		<div class="{{tab.name}}" ng-show="showTabContent(tab)" ng-repeat="tab in tabs">\n			<div class="create-input ui form" ng-controller="createTeamCtrl" ng-if="tab.name==\'create\' && !ms_team">\n				<div class="inline fields">\n					<div class="one wide field">\n					</div>\n					<div class="label four wide field">\n						{{40006|translate}}\n					</div>\n					<div class="eight wide field">\n						<input type="text" maxlength="100" ng-model="name" input-enter="createTeam()">\n					</div>\n					<div class="four wide field">\n						<button class="btn" ng-click="createTeam()">\n							{{40007|translate}}\n						</button>\n					</div>\n				</div>\n				<div class="message" ng-show="message.show">\n					<div class="error" ng-show="message.error">\n						{{message.error|translate}}\n						<i class="remove icon" ng-click="message.show=false"></i>\n					</div>\n					<div class="text" ng-show="message.text">\n						{{message.text|translate}}\n						<i class="remove icon" ng-click="message.show=false"></i>\n					</div>\n				</div>\n			</div>\n			<div class="ui form" ng-if="tab.name==\'create\' && !ms_team">&nbsp;</div>\n			<div class="tab-header ui form" ng-show="tab.name!=\'create\'||ms_team">\n				<div class="inline fields">\n					<div class="four wide field" ng-repeat="child in tab.children">\n						<button class="btn" ng-class="{selected: selectedTab===child}" ng-click="selectTab(child)">\n							{{child.label|translate}}\n							<span ng-if="number[child.name]">\n								({{number[child.name]}})\n							</span>\n						</button>\n					</div>\n				</div>\n			</div>\n			<div class="tabs" ng-show="tab.name!=\'create\'||ms_team">\n				<div class="content {{child.name}}" ng-show="selectedTab === child" ng-repeat="child in tab.children">\n					<div ng-dynamic-directive="child.name">\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),a.put("template/teammember.html",'<div ng-controller="gameteamCtrl" class="teammember cloak" ng-show="share_team || ms_team">\n	<div class="head" ng-if="ms_epic.epic_sign_end > now" ng-show="!isSharePage && ms_team">\n		<span ng-if="(ms_epic.max_team_member_count|| 5) > ms_team.memberLength">还差{{(ms_epic.max_team_member_count|| 5) - ms_team.memberLength}}位队友,赶紧邀请朋友加入!</span>\n		<span ng-if="(ms_epic.max_team_member_count|| 5) == ms_team.memberLength">已完成组队!请在游戏开始前回此页面进行游戏</span>\n		<button class="btn" ng-click="removeMember(ms_member)">\n			<i class="icon sign out"></i> {{40021|translate}}\n		</button>\n		<!--<button class="btn" ng-if="ms_epic.epic_id && ms_team.team_id" pop klass="qrpop" content="<div class=\'logo-mask\'></div><div class=\'qrcode\' qrcode src=\'QRCode(ms_epic.epic_id, ms_team.team_id)\'></div>">\n			<i class="icon wechat"></i> {{40018|translate}}\n		</button>-->\n	</div>\n	<!--<div class="head" ng-show="isSharePage && share_team">\n		<span>&nbsp;</span>\n		<button class="btn" ng-if="ms_epic.epic_id && share_team.team_id" pop klass="qrpop" content="<div class=\'logo-mask\'></div><div class=\'qrcode\' qrcode src=\'QRCode(ms_epic.epic_id, share_team.team_id)\'></div>">\n			<i class="icon wechat"></i> {{40018|translate}}\n		</button>\n	</div>-->\n	<div class="body list">\n		<div class="name">\n			{{40022|translate}}\n			<label ng-show="!edit">{{(isSharePage? share_team : ms_team)[\'name\']}}</label>\n			<input type="text" maxlength="20" ng-model="(isSharePage? share_team : ms_team)[\'name\']" ng-show="edit">\n			<i class="icon write" ng-show="!isSharePage && isLeader && !edit && ms_epic.epic_sign_end > now" ng-click="edit=true"></i>\n			<i class="icon checkmark" ng-show="!isSharePage && isLeader && edit" ng-click="updateTeamName()"></i>\n		</div>\n		<div class="ui items">\n			<div class="item ui grid images-expanded">\n				<div class="images expanded">\n					<div class="ui five column grid item">\n						<div class="column img" ng-class="{selected:selected===member}" ng-repeat="member in (isSharePage? share_team : ms_team)[\'members\']">\n							<div class="card">\n								<div class="img" ng-click="select(member)">\n									<img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n									<i class="icon remove circle" ng-if="member.member_id" ng-click="removeMember(member)"></i>\n								</div>\n								<div class="title">\n									{{member.show_name}}\n								</div>\n								<div class="description">\n									<div class="university">{{member.university || \'&nbsp;\'}}</div>\n									<div class="major">{{member.major || \'&nbsp;\'}}</div>\n									<div class="mobile-num">{{member.mobile || \'&nbsp;\'}}</div>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),a.put("template/teammember_mobile.html",'<div ng-controller="gameteamCtrl" class="teammember cloak" ng-show="share_team">\n	<div class="body list">\n		<div class="instruction" ng-if="share_team && ms_epic">\n			{{40078|translate}}<b>{{share_team.name}}</b>，{{40079|translate}}\n			<b><span ng-bind-html="ms_epic.description|trusted"></span></b>\n		</div>\n		<div class="name">\n			<label>{{share_team.name}}</label>\n		</div>\n		<div class="ui items">\n			<div class="item ui grid images-expanded">\n				<div class="images expanded">\n					<div class="ui two column grid item">\n						<div class="column img" ng-repeat="member in share_team.members">\n							<div class="card">\n								<div class="img">\n									<img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n								</div>\n								<div class="title">\n									{{member.show_name}}\n								</div>\n								<div class="description">\n									<div class="university">{{member.university || \'&nbsp;\'}}</div>\n									<div class="major">{{member.major || \'&nbsp;\'}}</div>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),a.put("template/teams_apply_sent.html",'<div class="teams-apply-sent list" ng-controller="teamsApplySentCtrl">\n	<div class="message" ng-show="message.show">\n		<div class="error" ng-show="message.error">\n			{{message.error|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n		<div class="text" ng-show="message.text">\n			{{message.text|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n	</div>\n	<div class="teams ui items">\n		<div ng-repeat="team in teams" class="ui items">\n			<div class="item ui grid" ng-class="{expanded:team.expanded}" ng-click="team.expanded=!team.expanded">\n				<span class="name middle aligned content six wide column">\n					{{team.name}}\n				</span>\n				<div class="images ten wide column minor" ng-class="{invisible:team.expanded}">\n					<div class="ui five column grid">\n						<div class="img column" ng-repeat="member in team.members">\n							<img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n						</div>\n					</div>\n				</div>\n			</div>\n			<div class="item ui grid images-expanded" ng-show="team.expanded">\n				<div class="images expanded">\n					<div class="ui five column grid">\n						<div class="img column" ng-repeat="member in team.members">\n							<div class="card">\n								<div class="img">\n									<img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n								</div>\n								<div class="title">\n									{{member.show_name}}\n								</div>\n								<div class="description">\n									<div class="university">{{member.university || \'&nbsp;\'}}</div>\n									<div class="major">{{member.major || \'&nbsp;\'}}</div>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>\n'),a.put("template/teams_being_invited.html",'<div class="teams-being-invited list" ng-controller="teamsBeingInvitedCtrl">\n	<!--<div class="instruction">\n		{{40011|translate}}{{number}}{{40012|translate}}\n	</div>-->\n	<div class="message" ng-show="message.show">\n		<div class="error" ng-show="message.error">\n			{{message.error|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n		<div class="text" ng-show="message.text">\n			{{message.text|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n	</div>\n	<div class="ui items">\n		<div ng-repeat="team in teams" class="ui items">\n			<div class="item ui grid" ng-class="{expanded:team.expanded}" ng-click="team.expanded=!team.expanded">\n				<div class="middle aligned content two wide column">\n					<button class="btn" ng-click="acceptInvite(team)">\n						<i class="icon plus"></i>{{40013|translate}}\n					</button>\n				</div>\n				<span class="name middle aligned content four wide column">\n					{{team.name}}\n				</span>\n				<div class="images ten wide column minor" ng-class="{invisible:team.expanded}">\n					<div class="ui five column grid">\n						<div class="img column" ng-repeat="member in team.members">\n							<img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n						</div>\n					</div>\n				</div>\n			</div>\n			<div class="item ui grid images-expanded" ng-show="team.expanded">\n				<div class="images expanded">\n					<div class="ui five column grid">\n						<div class="img column" ng-repeat="member in team.members">\n							<div class="card">\n								<div class="img">\n									<img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n								</div>\n								<div class="title">\n									{{member.show_name}}\n								</div>\n								<div class="description">\n									<div class="university">{{member.university || \'&nbsp;\'}}</div>\n									<div class="major">{{member.major || \'&nbsp;\'}}</div>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>\n'),a.put("template/teams_can_join.html",'<div class="teams-can-join list" ng-controller="teamsCanJoinCtrl">\n	<div class="message" ng-show="message.show">\n		<div class="error" ng-show="message.error">\n			{{message.error|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n		<div class="text" ng-show="message.text">\n			{{message.text|translate}}\n			<i class="remove icon" ng-click="message.show=false"></i>\n		</div>\n	</div>\n	<div class="ui search">\n		<div class="ui left icon input">\n			<i class="icon search"></i>\n			<input type="text" class="search-input" placeholder="{{40083|translate}}" ng-model="teamName">\n		</div>\n	</div>\n	<div class="ui items">\n		<div ng-repeat="team in teams" class="ui items">\n			<div class="item ui grid" ng-class="{expanded:team.expanded}" ng-click="team.expanded=!team.expanded">\n				<div class="middle aligned content two wide column">\n					<button class="btn" ng-click="sendApply(team)">\n						<i class="icon plus"></i>{{40017|translate}}\n					</button>\n				</div>\n				<span class="name middle aligned content four wide column">\n					{{team.name}}\n				</span>\n				<div class="images ten wide column minor" ng-class="{invisible:team.expanded}">\n					<div class="ui five column grid">\n						<div class="img column" ng-repeat="member in team.members">\n							<img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n						</div>\n					</div>\n				</div>\n			</div>\n			<div class="item ui grid images-expanded" ng-show="team.expanded">\n				<div class="images expanded">\n					<div class="ui five column grid">\n						<div class="img column" ng-repeat="member in team.members">\n							<div class="card">\n								<div class="img">\n									<img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\n								</div>\n								<div class="title">\n									{{member.show_name}}\n								</div>\n								<div class="description">\n									<div class="university">{{member.university || \'&nbsp;\'}}</div>\n									<div class="major">{{member.major || \'&nbsp;\'}}</div>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n	<div class="change item" ng-show="teams.length">\n		<button class="btn" ng-click="searchTeam()">{{40211|translate}}</button>\n	</div>\n</div>\n'),a.put("template/upsell.html",'<div class="b-competion-upsell-container">\n    <a class="b-competion-upsell" href="/upsell">&nbsp;</a>\n</div>\n')}]);