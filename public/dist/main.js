angular.module("cmpt",["pascalprecht.translate"]).config(["$httpProvider",function(a){a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]).config(["$translateProvider",function(a){a.useSanitizeValueStrategy(null);var b={40001:"加入战队",40002:"创建战队",40003:"候选战队",40004:"已送出申请",40005:"邀请你的名单",40006:"队伍名称",40007:"确定",40008:"候选名单",40009:"已邀请名单",40010:"申请名单",40011:"有",40012:"战队邀请你加入",40013:"接受",40014:"拒绝",40015:"邀请",40016:"搜寻合适队友。ex.财经系女",40017:"申请",40018:"微信邀请队友",40019:"查看详情",40020:"人报名",40021:"我要离队",40022:"队伍名称：",40023:"比赛时间：",40024:"报名时间：",40025:"我的参赛信息",40026:"我的比赛记录",40027:"我的比赛排名",40030:"比赛已结束，结束时间",40031:"已开始比赛，比赛结束时间",40032:"已结束报名，比赛开始时间",40033:"已开始报名，报名结束时间",40034:"即将开始报名，报名开始时间",40050:"申请已发送成功！",40051:"暂时没有已提交的申请",40052:"暂时没有被邀请",40053:"成功接受邀请",40054:"没有候选名单",40055:"成功发送邀请",40056:"暂时没有收到加入队伍的申请",40057:"暂时没有邀请任何人",40058:"成功接受申请",40059:"没有候选战队",40060:"中国",40061:"西北",40062:"华北",40063:"东北",40064:"西南",40065:"华中",40066:"华东",40067:"华南",40068:"港澳台",40070:"比赛已结束！",40071:"比赛已结束，组队未成功！期待下次比赛吧~ ",40072:"比赛已开始！加油！",40073:"报名已结束，组队未成功！期待下次比赛吧~ ",40074:"组队报名成功！比赛时间",40075:"组队成功！比赛时间",40076:"请在报名截止时间",40077:"前完成组队",40100:"东北地区",40101:"华北地区",40102:"华东地区",40103:"华南地区",40104:"华中地区",40105:"西南地区",40106:"西北地区",40107:"港澳台",40108:"辽宁、吉林、黑龙江",40109:"北京、天津、河北</br>山西、内蒙古",40110:"山东、江苏、安徽、</br>浙江、福建、上海",40111:"广东、广西、海南",40112:"湖北、湖南、河南、江西",40113:"四川、云南、贵州、</br>西藏、重庆",40114:"宁夏、新疆、青海、</br>陕西、甘肃",40115:"香港、澳门、台湾",40200:"分钟",40201:"小时",40202:"天",40203:"月",40204:"年",40210:"微信邀请朋友观赛",40211:"换一批",40404:"未登录",70006:"该用户无权限加入此队伍",70008:"该用户已经属于一个队伍，不能再被加入队伍"};a.translations("en",b).translations("cn",b).translations("zh",b)}]).directive("cloak",function(){return{restrict:"C",link:function(a,b,c,d){b.css("opacity",1)}}}).directive("epic",function(){return{restrict:"E",templateUrl:"template/epic.html"}}).directive("epicinfo",function(){return{restrict:"E",templateUrl:"template/epicinfo.html"}}).directive("teammember",function(){return{restrict:"E",templateUrl:"template/teammember.html"}}).directive("teamjoin",function(){return{restrict:"E",templateUrl:"template/teamjoin.html"}}).directive("ngDynamicDirective",["$compile","$parse",function(a,b){return{restrict:"A",link:function(b,c,d){b.$watch(c.attr("ng-dynamic-directive"),function(d){c.attr(d.replace(/([A-Z])/g,function(a){return"-"+a.toString().toLowerCase()}),d),c.removeAttr("ng-dynamic-directive"),a(c)(b)})}}}]).directive("teamsCanJoin",function(){return{restrict:"A",templateUrl:"template/teams_can_join.html"}}).directive("teamsApplySent",function(){return{restrict:"A",templateUrl:"template/teams_apply_sent.html"}}).directive("teamsBeingInvited",function(){return{restrict:"A",templateUrl:"template/teams_being_invited.html"}}).directive("peopleCanJoin",function(){return{restrict:"A",templateUrl:"template/people_can_join.html"}}).directive("peopleWantToJoin",function(){return{restrict:"A",templateUrl:"template/people_want_to_join.html"}}).directive("peopleInvited",function(){return{restrict:"A",templateUrl:"template/people_invited.html"}}).directive("seriesList",function(){return{restrict:"E",templateUrl:"template/series-list.html"}}).directive("experimentList",function(){return{restrict:"E",templateUrl:"template/experiment-list.html"}}).directive("nationalList",function(){return{restrict:"E",templateUrl:"template/national-list.html"}}).directive("seasonList",function(){return{restrict:"E",templateUrl:"template/season-list.html"}}).directive("gameMenu",function(){return{restrict:"E",templateUrl:"template/game-menu.html"}}).directive("gamePersonalRecord",function(){return{restrict:"E",templateUrl:"template/game-personal-record.html"}}).directive("gameRankingList",function(){return{restrict:"E",templateUrl:"template/game-ranking-list.html"}}).directive("chinaMap",["$filter","$translate",function(a,b){return{restrict:"AE",template:'<div id="china-map" style="height:400px">',link:{post:function(a,c,d,e){require.config({paths:{echarts:cmpt+"/libs/echarts/build/dist"}}),require(["echarts","echarts/chart/map"],function(d){var e={},f=cmpt+"/json/area.json";require("echarts/util/mapData/params").params.area={getGeoJson:function(a){$.getJSON(f,function(c){c.features.forEach(function(a){var c=b.instant(a.properties.id);a.properties.name=c,e[c]=a.properties.id}),a(c)})}};var g=d.init(c.children().get(0));g.setOption({tooltip:{trigger:"item",formatter:function(a,c,d){return b.instant((0|e[a[1]])+8)}},series:[{name:"中国",type:"map",mapType:"area",selectedMode:"single",itemStyle:{normal:{color:"#CCC",label:{show:!0}},emphasis:{color:"#ff3c42",label:{show:!0,textStyle:{color:"#fff"}}}},data:[]}]}),window.onresize=g.resize,g.on(require("echarts/config").EVENT.MAP_SELECTED,function(b){a.$emit("area/choose",e[b.target])})})}}}}]).directive("pop",["$compile",function(a){return{restrict:"A",scope:{content:"@",klass:"@"},link:function(b,c,d){var e=$('<div class="pop"></div>').addClass(b.klass).appendTo("body"),f=$(b.content);f.each(function(c,d){a(d)(b.$parent)}),e.append(f);var g;$(c).on("mouseenter",function(){var a=$(c).offset(),b=($(this).width(),$(this).height());clearTimeout(g),e.removeClass("animate").css({top:a.top+b/2,left:a.left}).addClass("show"),g=setTimeout(function(){e.addClass("animate")},100)}).on("mouseleave",function(){clearTimeout(g),e.removeClass("animate"),g=setTimeout(function(){e.removeClass("show")},500)})}}}]).directive("qrcode",function(){return{restrict:"A",scope:{src:"="},link:function(a,b,c){a.src&&$(b).qrcode({text:a.src,width:120,height:120})}}}).directive("additional",function(){return{restrict:"E",templateUrl:"template/additional.html"}}).directive("countdown",function(){return{restrict:"E",templateUrl:"template/countdown.html"}}).directive("inputEnter",["$parse",function(a){return{restrict:"A",compile:function(b,c){var d=a(c.inputEnter);return function(a,b){b.bind("keypress",function(b){13==b.keyCode&&a.$apply(function(){d(a,{$event:b})})})}}}}]).controller("epicBaseCtrl",["$scope","$http","$translate",function(a,b,c){function d(){a.ms_member&&a.ms_team&&(a.isLeader=a.ms_team.leader==a.ms_member.member_id)}function e(){a.epic_id&&b.post(cmpt+"/team/memberteam",{epic_id:a.epic_id}).success(function(b){b.isSuccess&&(a.ms_team=b.result,a.ms_team&&a.fixTeam(a.ms_team))})}var f=location.search.slice(1),g=function(){return"undefined"!=typeof buildDate?buildDate:angular&&angular.bplus&&angular.bplus.config&&angular.bplus.config.cdn&&angular.bplus.config.cdn.version?angular.bplus.config.cdn.version:""}(),h=function(){return"undefined"!=typeof h?h:angular&&angular.bplus&&angular.bplus.config&&angular.bplus.config.cdn&&angular.bplus.config.cdn.normal?angular.bplus.config.cdn.normal.slice(0,-1):""}(),i=h+cmpt+"/img/unknown.png?"+g,j=h+cmpt+"/img/male_default.png?"+g,k=h+cmpt+"/img/female_default.png?"+g;a.empty=[{},{},{},{},{}],a.isLeader=!1,a.cmpt=cmpt,c.preferredLanguage()||c.use(a.lang||"cn"),a.fixTeams=function(b){b.forEach(a.fixTeam)},a.fixTeam=function(b){b.memberLength=b.members.length,b.memberLength<5&&(b.members=b.members.concat(a.empty.slice(b.memberLength))),a.fixMembers(b.members)},a.fixMembers=function(b){b.forEach(a.fixMember)},a.fixMember=function(a){a.gender=a.gender||"U",a.show_name=a.real_name||a.nick_name||a.wechat,a.education&&(a.university=a.education.university,a.major=a.education.major),a.member_id?a.avatar?a.avatar+="-small":"U"==a.gender?a.avatar=i:"M"==a.gender?a.avatar=j:"F"==a.gender?a.avatar=k:a.avatar=i:a.avatar=i},a.fixEpic=function(a){return a?(a.epic_game_end=new Date(a.epic_game_end||a.game_end),a.epic_game_from=new Date(a.epic_game_from||a.game_from),a.epic_sign_end=new Date(a.epic_sign_end||a.sign_end),a.epic_sign_from=new Date(a.epic_sign_from||a.sign_from),a):a},a.fixSeries=function(b){return b&&b.epics?(b.epics.forEach(a.fixEpic),b):b};var l=location.protocol,m=location.host;a.QRCode=function(b,c){return b&&c?l+"//"+m+"/"+a.lang+cmpt+"/epic?epic_id="+b+"&team_id="+c:void 0},f&&(f=f.split("&"),f.forEach(function(b){b=b.split("="),b&&2==b.length&&(a[b[0]]=b[1])})),a.$watch("epic_id",function(c){c&&b.get(cmpt+"/game/epic/load/"+c).success(function(b){b.isSuccess&&(a.ms_epic=a.fixEpic(b.result))})}),a.$watch("team_id",function(c){a.isSharePage=!!c,c&&b.get(cmpt+"/team/load/"+c).success(function(b){b.isSuccess&&b.result&&(a.share_team=b.result,a.fixTeam(a.share_team))})}),a.$watch("series_id",function(c){c&&b.get(cmpt+"/game/series/load/"+c).success(function(b){b.isSuccess&&(a.ms_series=a.fixSeries(b.result))})}),b.get(cmpt+"/member").success(function(b){b.isSuccess&&(a.ms_member=b.result,a.fixMember(a.ms_member))}),b.get(cmpt+"/game/series/my/").success(function(b){b&&b.isSuccess&&(b.result.forEach(a.fixSeries),a.all_series=b.result)}),a.$watch("ms_team",function(a){d()}),a.$watch("ms_member",function(a){d(),a&&e()}),a.$on("joinTeamSuccess",e),a.$on("acceptApplySuccess",e),a.$on("createTeamSuccess",e),a.$on("removeMemberSuccess",e),a.formatDate=function(a,b){if(a){a=new Date(a),a=[a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes()],a.forEach(function(b,c){10>b&&(a[c]="0"+b)});var c=a[0]+"年"+a[1]+"月"+a[2]+"日 ";return b?c:c+a[3]+":"+a[4]}};var n=a.now=new Date,o=36e5,p=a.day=24*o;a.getDeltaDays=function(a){var b=new Date(a)-n;return Math.ceil(b/p)},a.getTime=function(b){return b.epic_game_end<n?c.instant(40030)+a.formatDate(b.epic_game_end):b.epic_game_from<n?c.instant(40031)+a.formatDate(b.epic_game_end):b.epic_sign_end<n?c.instant(40032)+a.formatDate(b.epic_game_from):b.epic_sign_from<n?c.instant(40033)+a.formatDate(b.epic_sign_end):c.instant(40034)+a.formatDate(b.epic_sign_from)},a.getTeamTime=function(b,d){var e=d>=0;return b.epic_game_end<n?c.instant(e?40070:40071):b.epic_game_from<n?c.instant(e?40072:40073):b.epic_sign_end<n?e?c.instant(40074)+a.formatDate(b.epic_game_from):c.instant(40073):b.epic_sign_from<n?e?c.instant(40075)+a.formatDate(b.epic_game_from):c.instant(40076)+a.formatDate(b.epic_sign_end)+c.instant(40077):c.instant(40034)+a.formatDate(b.epic_sign_from)},a.showMessage=function(a,b){b.message.text=a,b.message.error=null,b.message.show=!0},a.showError=function(a,b){b.message.text=null,b.message.error=a,b.message.show=!0},a.hideMessage=function(a){a.message.show=!1},a.translateRegion=function(a){switch(a){case"china":return 40060;case"xibei":return 40061;case"huabei":return 40062;case"dongbei":return 40063;case"xinan":return 40064;case"huazhong":return 40065;case"huadong":return 40066;case"huanan":return 40067;case"gat":return 40068;default:return 40060}}}]).controller("gameteamCtrl",["$scope","$http",function(a,b){a.updateTeamName=function(){b.post(cmpt+"/team/update",{name:a.ms_team.name,team_id:a.ms_team.team_id}).success(function(b){b.isSuccess&&(a.$emit("updateTeamNameSuccess"),a.edit=!1)})},a.removeMember=function(c){b.post(cmpt+"/team/left",{target_id:c.member_id,team_id:a.ms_team.team_id}).success(function(b){b.isSuccess&&a.$emit("removeMemberSuccess")})},a.select=function(b){!a.isSharePage&&a.isLeader&&b.member_id&&b.member_id!=a.ms_member.member_id&&(a.selected=a.selected===b?null:b)}}]).controller("teamjoinCtrl",["$scope","$http",function(a,b){a.number={teamsApplySent:0,teamsBeingInvited:0,peopleInvited:0,peopleWantToJoin:0},a.tabs=[{name:"join",label:40001,filter:"ms_member && !ms_team",children:[{name:"teamsCanJoin",label:40003},{name:"teamsApplySent",label:40004},{name:"teamsBeingInvited",label:40005}]},{name:"create",label:40002,filter:"ms_member && !ms_team",children:[{name:"peopleCanJoin",label:40008},{name:"peopleInvited",label:40009},{name:"peopleWantToJoin",label:40010}]}],a.tabs.forEach(function(b){a.$watch(b.filter,function(a){b.show=a})}),a.$watch("selected",function(b){b&&!b.tab&&(a.selectedTab=b.children[0])}),a.toggle=function(b){a.selected=b},a.selectTab=function(b){a.selectedTab=b},a.$watch("selectedTab",function(b){b&&a.$broadcast(b.name)}),a.showTabHeader=function(a){return"join"==a.name&&a.show?!0:a.show},a.showTabContent=function(b){return void 0!==b.show?"join"==b.name?a.selected===b&&!a.ms_team:a.selected===b||a.ms_team:void 0}}]).controller("createTeamCtrl",["$scope","$http",function(a,b){a.message={},a.createTeam=function(){a.name&&b.post(cmpt+"/team/create",{name:a.name,epic_id:a.ms_epic.epic_id}).success(function(b){b.isSuccess?(a.$emit("createTeamSuccess"),a.hideMessage(a)):a.showError(b.code,a)})}}]).controller("teamsCanJoinCtrl",["$scope","$http",function(a,b){function c(){clearTimeout(e),e=setTimeout(d,300)}function d(){a.teams&&a.teams.forEach(function(a){a.expanded=!1}),b.post(cmpt+"/team/search/",{epic_id:a.ms_epic.epic_id,name:a.teamName}).success(function(b){b.isSuccess&&(a.teams=b.result&&b.result.teams?b.result.teams:[],a.fixTeams(a.teams),a.teams.length?a.hideMessage(a):a.showMessage(40059,a))})}var e;a.message={},a.sendApply=function(c){b.post(cmpt+"/team/apply",{team_id:c.team_id}).success(function(b){b.isSuccess?(a.teams.splice(a.teams.indexOf(c),1),a.showMessage(40050,a)):a.showError(b.code,a)})},a.$watch("teamName",function(a){void 0!==a&&c()}),a.$on("teamsCanJoin",d),a.searchTeam=d}]).controller("teamsApplySentCtrl",["$scope","$http",function(a,b){a.message={},a.$on("teamsApplySent",function(){a.teams&&a.teams.forEach(function(a){a.expanded=!1}),b.get(cmpt+"/team/myapply/"+a.ms_member.member_id).success(function(b){b.isSuccess&&(a.teams=b.result?Object.keys(b.result).map(function(a){return b.result[a]}):[],a.fixTeams(a.teams),a.teams.length?a.hideMessage(a):a.showMessage(40051,a))})})}]).controller("teamsBeingInvitedCtrl",["$scope","$http",function(a,b){a.message={},a.$on("teamsBeingInvited",function(){a.teams&&a.teams.forEach(function(a){a.expanded=!1}),b.get(cmpt+"/team/myinvition/"+a.ms_member.member_id).success(function(b){b.isSuccess&&(a.teams=b.result?Object.keys(b.result).map(function(a){return b.result[a]}):[],a.fixTeams(a.teams),a.teams.length?a.hideMessage(a):a.showMessage(40052,a))})}),a.acceptInvite=function(c){b.post(cmpt+"/team/acceptInvite",{team_id:c.team_id}).success(function(b){b.isSuccess?a.showMessage(40053,a):a.showError(b.code,a),b.isSuccess&&(a.$emit("joinTeamSuccess",c),a.teams.splice(a.teams.indexOf(c),1))})}}]).controller("peopleCanJoinCtrl",["$scope","$http",function(a,b){function c(){clearTimeout(e),e=setTimeout(d,300)}function d(){b.post(cmpt+"/team/membersearch",{name:a.memberName,university:a.memberName,epic_id:a.ms_epic.epic_id}).success(function(b){b.isSuccess&&(a.persons=b.result||[],a.fixMembers(a.persons),a.persons.length?a.hideMessage(a):a.showMessage(40054,a))})}var e;a.message={},a.$watch("memberName",function(a){void 0!==a&&c()}),a.searchMember=d,a.$on("peopleCanJoin",d),a.sendInvite=function(c){b.post(cmpt+"/team/invite",{be_invited_id:c.member_id,team_id:a.ms_team.team_id}).success(function(b){b.isSuccess?(a.showMessage(40055,a),a.persons.splice(a.persons.indexOf(c),1)):a.showError(b.code,a)})}}]).controller("peopleInvitedCtrl",["$scope","$http",function(a,b){a.message={},a.$on("peopleInvited",function(){b.get(cmpt+"/team/invitefor/"+a.ms_member.member_id).success(function(b){b.isSuccess&&(a.persons=b.result?b.result.map(function(a){return a.member}):[],a.fixMembers(a.persons),a.persons.length?a.hideMessage(a):a.showMessage(40057,a))})})}]).controller("peopleWantToJoinCtrl",["$scope","$http",function(a,b){a.message={},a.$on("peopleWantToJoin",function(){b.get(cmpt+"/team/applierByTeam/"+a.ms_team.team_id).success(function(b){b.isSuccess&&(a.members=b.result||[],a.fixMembers(a.members),a.members.length?a.hideMessage(a):a.showMessage(40056,a))})}),a.acceptApply=function(c){b.post(cmpt+"/team/acceptApply",{applier_id:c.member_id,team_id:a.ms_team.team_id}).success(function(b){a.$emit("acceptApplySuccess"),b.isSuccess?(a.showMessage(40058,a),a.members.splice(a.members.indexOf(c),1)):a.showError(b.code,a)})}}]).controller("seriesCtrl",["$scope","$http",function(a,b){}]).controller("experimentCtrl",["$scope","$http",function(a,b){}]).controller("nationalCtrl",["$scope","$http",function(a,b){var c;a.$watch("ms_series.epics",function(b){b&&(b.forEach(function(b){b.region&&(b.regionCode=a.translateRegion(b.region)),40060==b.regionCode&&(c=!0)}),c&&(a.nationalEpics=b))}),a.$on("area/choose",function(b,d){c||(a.nationalEpics=a.ms_series.epics.map(function(a){return a.regionCode=d}))})}]).controller("seasonCtrl",["$scope","$http",function(a,b){a.$watch("ms_series",function(b){if(b&&b.epics){a.epics=[];var c={};b.epics.forEach(function(a){var b=a.epic_game_from;b=new Date(b.getFullYear(),b.getMonth(),b.getDate()),c[b]=c[b]||[],c[b].push(a)}),Object.keys(c).forEach(function(b){a.epics.push({date:new Date(b),epics:c[b]})}),a.epics.sort(function(a,b){return a.date-b.date}),c=null}})}]).controller("countdownCtrl",["$scope","$timeout",function(a,b){function c(){return g=h-Date.now(),0>g?(a.showStart=!0,void(a.showInGaming=!0)):(g/=i,g|=0,f=g%60,g/=60,g|=0,e=g%60,g/=60,g|=0,d=g%60,a.countdownMsg=(10>d?"0":"")+d+":"+(10>e?"0":"")+e+":"+(10>f?"0":"")+f,void b(c,1e3))}a.countdownMsg="";var d,e,f,g,h=a.ms_epic.epic_game_from,i=1e3;b(c,1e3)}]).filter("trusted",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]),angular.module("cmpt").run(["$templateCache",function(a){"use strict";a.put("template/additional.html",'<div class="additional" ng-if="!share_team && !ms_team && ms_epic && ms_member">\r\n    <div ng-show="ms_epic.max_team_member_count <= ms_epic.memberCount">\r\n        报名已满\r\n        <p>已有{{ms_epic.memberCount}}人报名完成。\r\n            <br/> 真可惜错过了这场比赛,赶紧抢先报名其他的比赛吧。!</p>\r\n    </div>\r\n    <div ng-show="ms_epic.game_from > now">\r\n        报名尚未开始\r\n        <p>看看其他可以报名的比赛吧!</p>\r\n    </div>\r\n    <div ng-show="ms_epic.game_end < now">\r\n        报名已经结束\r\n    </div>\r\n</div>'),a.put("template/countdown.html",'<div class="countdown" ng-if="((ms_epic.max_team_member_count|| 5) == ms_team.memberLength) && ms_epic.epic_game_from > (now + day)" ng-controller="countdownCtrl">\r\n    <div ng-if="!showStart">\r\n        <span class="timestamp">\r\n            {{countdownMsg}}\r\n        </span> 比赛即将开始\r\n    </div>\r\n    <div ng-show="showInGaming">\r\n        比赛进行中\r\n    </div>\r\n    <div ng-if="showStart">\r\n        <a href="/" class="btn">点此进行比赛</a>\r\n    </div>\r\n    <button class="btn invite-btn" ng-if="ms_epic.epic_id && ms_team.team_id" pop klass="qrpop" content="<div class=\'qrcode\' qrcode src=\'QRCode(ms_epic.epic_id, ms_team.team_id)\'></div>">\r\n        <i class="icon wechat"></i> {{40210|translate}}\r\n    </button>\r\n    <div>\r\n        请召集所有队员，准备比赛\r\n    </div>\r\n</div>'),a.put("template/epic.html","<div>\r\n    <epicinfo></epicinfo>\r\n    <teammember></teammember>\r\n    <teamjoin></teamjoin>\r\n    <additional></additional>\r\n    <countdown></countdown>\r\n    <gameroom></gameroom>\r\n</div>"),a.put("template/epicinfo.html",'<div class="epicinfo">\r\n    <div class="head">\r\n        <h2>{{ms_epic.title}}</h2>\r\n        <div>{{ms_epic.subtitle}}</div>\r\n        <div ng-if="ms_epic.epic_id && ms_team.team_id">\r\n            <i class="big wechat icon home-wechat-share" pop klass="qrpop" content="<div class=\'logo-mask\'></div><div class=\'qrcode\' qrcode src=\'QRCode(ms_epic.epic_id, ms_team.team_id)\'></div>"></i>\r\n        </div>\r\n    </div>\r\n    <div class="body">\r\n        <div class="ui grid container">\r\n            <div class="sixteen wide column">\r\n                <i class="calendar icon"></i> {{40023|translate}} {{formatDate(ms_epic.game_from)}} - {{formatDate(ms_epic.game_end)}}\r\n            </div>\r\n            <div class="sixteen wide column">\r\n                <i class="flag icon"></i> {{40024|translate}} {{formatDate(ms_epic.sign_from)}} - {{formatDate(ms_epic.sign_end)}}\r\n            </div>\r\n            <div class="eight wide column">\r\n                <i class="checkered flag icon"></i> {{translateRegion(ms_epic.region)|translate}}\r\n            </div>\r\n            <div class="eight wide column">\r\n                <i class="user icon"></i> {{ms_epic.memberCount}}\r\n            </div>\r\n        </div>\r\n        <div class="grid">\r\n            <div class="sixteen wide column" ng-bind-html="ms_epic.description|trusted">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),a.put("template/experiment-list.html",'<div class="series_banner">\r\n    <img ng-src="{{cmpt}}/img/banner_experiment.gif">\r\n</div>\r\n<div class="experiment-content" ng-controller="experimentCtrl">\r\n    <div class="ui three column grid">\r\n        <div class="column" ng-repeat="epic in ms_series.epics">\r\n            <div class="ui card experiment-card" ng-class="{available: epic.epic_game_end > now}" ng-click="epic.show=!epic.show">\r\n                <div class="content experiment-name">\r\n                    <div class="epic_header">\r\n                        {{epic.title}}\r\n                    </div>\r\n                </div>\r\n                <div class="content">\r\n                    <div class="description">\r\n                        <div>\r\n                            <i class="calendar icon"></i> {{formatDate(epic.epic_game_from, true)}}\r\n                        </div>\r\n                        <div>\r\n                            <i class="user icon"></i> {{epic.memberCount||0}} {{40020 | translate}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="extra content">\r\n                    <div class="text-right">\r\n                        {{getTime(epic)}}\r\n                    </div>\r\n                </div>\r\n                <div class="dimmer experiment-dimmer" ng-class="{active: epic.show}">\r\n                    <div class="content">\r\n                        <div class="center">\r\n                            <p ng-bind-html="epic.description|trusted">\r\n                            </p>\r\n                            <div class="label">\r\n                                <a ng-href="/{{lang}}{{cmpt}}/epic?epic_id={{epic.epic_id}}">\r\n                                    {{40019|translate}}\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),a.put("template/game-menu.html",'<div class="ui fluid large vertical menu cloak">\r\n    <a ng-href="/{{lang}}{{cmpt}}/" class="item" ng-class="{\'active\':page===\'index\'}">\r\n        <i class="b-home icon"></i> {{40025|translate}}\r\n    </a>\r\n    <a ng-repeat="series in all_series" ng-href="/{{lang}}{{cmpt}}/{{series.series_type}}?series_id={{series.series_id}}" class="item" ng-class="{\'active\':page===series.series_type}">\r\n        <i class="icon b-{{series.series_type}}"></i> {{series.title}}\r\n    </a>\r\n    <!--<a ng-if="ms_member" ng-href="/{{lang}}{{cmpt}}/record" class="item" ng-class="{\'active\':page===\'record\'}">\r\n        <i class="b-record icon"></i> {{40026|translate}}\r\n    </a>\r\n    <a ng-if="ms_member" ng-href="/{{lang}}{{cmpt}}/rank" class="item" ng-class="{\'active\':page===\'rank\'}">\r\n        <i class="b-rank icon"></i> {{40027|translate}}\r\n    </a>-->\r\n</div>'),a.put("template/game-personal-record.html",'<div class="record-content">\r\n\r\n    <div class="ui grid">\r\n        <div class="six wide column">\r\n            <div class="profile-box">\r\n                <img class="ui middle aligned image" src="/img/salespage/wilfried.png">\r\n                <h3>陈大民</h3>\r\n                <div class="ui two column grid">\r\n                    <div class="column" ng-cloak>\r\n                        <i class="dollar big icon"></i>\r\n                        {{\'MapHomeBridgeCoins\' | translate}}：99\r\n                    </div>\r\n                    <div class="column" ng-cloak>\r\n                        <i class="configure big icon"></i>\r\n                        {{\'MapHomeSkills\' | translate}}：5\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="three wide column">\r\n            <div class="target-list">\r\n                <h5>{{\'MapRecordTarget\' | translate}}</h5>\r\n                <div class="ui list">\r\n                    <div class="item">\r\n                        <div class="ui b-secondary button target-button">CEO</div>\r\n                    </div>\r\n                    <div class="item">\r\n                        <div class="ui b-secondary button target-button">CFO</div>\r\n                    </div>\r\n                    <div class="item">\r\n                        <div class="ui b-secondary button target-button">COO</div>\r\n                    </div>\r\n                    <div class="item">\r\n                        <div class="ui b-secondary button target-button">CPO</div>\r\n                    </div>\r\n                    <div class="item">\r\n                        <div class="ui b-secondary button target-button">CMO</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="seven wide column">\r\n            <div radar-map class="large-rader" data="data"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="record-list">\r\n    <div class="ui grid">\r\n        <div class="ui card record-card">\r\n            <div class="content record-name">\r\n                <img src="/img/icon/national-big.png" class="national">\r\n                <div class="epic_header">全国大赛华东赛区</div>\r\n                <div class="meta">\r\n                    <div class="ui horizontal list">\r\n                        <div class="item">\r\n                            <i class="calendar icon"></i>\r\n                            2015年09月30日\r\n                        </div>\r\n                        <div class="item">\r\n                            共有24对\r\n                        </div>\r\n                        <div class="item">\r\n                            分为个4战区\r\n                        </div>\r\n                        <div class="item">\r\n                            <i class="dollar icon"></i>\r\n                            桥币+8\r\n                        </div>\r\n                        <div class="item">\r\n                            <i class="configure icon"></i>\r\n                            技能+5\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="content">\r\n                <div class="sesson-content">\r\n                    <h2>战区3</h2>\r\n                    <div class="ui button" ng-cloak>{{\'MapRecordMoreInfo\' | translate}}</div>\r\n                </div>\r\n            </div>\r\n            <div class="extra content">\r\n                <div class="info-content">\r\n                    <h2>第2名</h2>\r\n                    <h5>公司B 陈大民的团队</h5>\r\n                    <div class="team-list">\r\n                        <img class="ui image" src="/img/salespage/wilfried.png">\r\n                        <img class="ui image" src="/img/salespage/wilfried.png">\r\n                        <img class="ui image" src="/img/salespage/wilfried.png">\r\n                        <img class="ui image" src="/img/salespage/wilfried.png">\r\n                        <img class="ui image" src="/img/salespage/wilfried.png">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="ui grid">\r\n        <div class="ui card record-card">\r\n            <div class="content record-name">\r\n                <img src="/img/icon/experiment-big.png" class="experiment">\r\n                <div class="epic_header">官方体验赛华北赛区</div>\r\n                <div class="meta">\r\n                    <div class="ui horizontal list">\r\n                        <div class="item">\r\n                            <i class="calendar icon"></i>\r\n                            2015年09月30日\r\n                        </div>\r\n                        <div class="item">\r\n                            共有24对\r\n                        </div>\r\n                        <div class="item">\r\n                            分为个4战区\r\n                        </div>\r\n                        <div class="item">\r\n                            <i class="dollar icon"></i>\r\n                            桥币+8\r\n                        </div>\r\n                        <div class="item">\r\n                            <i class="configure icon"></i>\r\n                            技能+5\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="content">\r\n                <div class="sesson-content">\r\n                    <h2>战区1</h2>\r\n                    <div class="ui button" ng-cloak>{{\'MapRecordMoreInfo\' | translate}}</div>\r\n                </div>\r\n            </div>\r\n            <div class="extra content">\r\n                <div class="info-content">\r\n                    <h2>第1名</h2>\r\n                    <h5>公司B 陈大民的团队</h5>\r\n                    <div class="team-list">\r\n                        <img class="ui image" src="/img/salespage/wilfried.png">\r\n                        <img class="ui image" src="/img/salespage/wilfried.png">\r\n                        <img class="ui image" src="/img/salespage/wilfried.png">\r\n                        <img class="ui image" src="/img/salespage/wilfried.png">\r\n                        <img class="ui image" src="/img/salespage/wilfried.png">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),a.put("template/game-ranking-list.html",'<div class="rank-content">\r\n    <div class="ui top attached tabular menu rank-menu">\r\n        <a class="item active" data-tab="first">{{\'MapRankingList\' | translate}}</a>\r\n        <a class="item" data-tab="second">\r\n            <div class="content">\r\n\r\n                <div class="ui inline dropdown">\r\n                    <div class="text">{{\'RankDongBeiDivision\' | translate}}</div>\r\n                    <i class="dropdown icon"></i>\r\n                    <div class="menu rank-drop-menu">\r\n                        <div class="item" ng-class="{\'active\':c.value===selectCategory}" ng-repeat="c in catetories" data-text="{{c.title | translate}}" data-value="{{c.value}}">{{c.title | translate}} <i class="checkmark icon" ng-show="c.value===selectCategory"></i></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </a>\r\n        <div class="ui basic button wechat-button rank-wechat-share" data-html="<img src=\'/img/b-wechat.jpg\' class=\'ui large image\'>" data-position="bottom center">\r\n            <i class="wechat icon"></i>{{\'MapRankWechatShare\' | translate}}\r\n        </div>\r\n    </div>\r\n    <div class="ui bottom attached tab segment rank-segment active" data-tab="first">\r\n        <table class="ui table center aligned rank-table" ng-cloak>\r\n            <thead>\r\n                <tr>\r\n                    <th class="bottom aligned">{{\'MapRankRank\' | translate}}</th>\r\n                    <th class="bottom aligned">{{\'MapRankPalyer\' | translate}}</th>\r\n                    <th class="ability">\r\n                        <i class="home big icon"></i>\r\n                        <br>{{\'MapRankAverageAbility\' | translate}}\r\n                    </th>\r\n                    <th class="ability">\r\n                        <i class="bar chart big icon"></i>\r\n                        <br>{{\'MapRankSkill1\' | translate}}\r\n                    </th>\r\n                    <th class="ability">\r\n                        <i class="users big icon"></i>\r\n                        <br>{{\'MapRankSkill2\' | translate}}\r\n                    </th>\r\n                    <th class="ability">\r\n                        <i class="calculator big icon"></i>\r\n                        <br>{{\'MapRankSkill3\' | translate}}\r\n                    </th>\r\n                    <th class="ability">\r\n                        <i class="bullseye big icon"></i>\r\n                        <br>{{\'MapRankSkill4\' | translate}}\r\n                    </th>\r\n                    <th class="ability">\r\n                        <i class="comments outline big icon"></i>\r\n                        <br>{{\'MapRankSkill5\' | translate}}\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>\r\n                        <img src="/img/icon/crown.png" class="crown">\r\n                        <h5>1</h5>\r\n                    </td>\r\n                    <td class="avatar">\r\n                        <img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 天宝\r\n                    </td>\r\n                    <td class="error">5</td>\r\n                    <td>2</td>\r\n                    <td>5</td>\r\n                    <td>5</td>\r\n                    <td>7</td>\r\n                    <td>10</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n                        <img src="/img/icon/crown.png" class="crown">\r\n                        <h5>2</h5>\r\n                    </td>\r\n                    <td class="avatar">\r\n                        <img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 周星星\r\n                    </td>\r\n                    <td class="error">5</td>\r\n                    <td>2</td>\r\n                    <td>5</td>\r\n                    <td>5</td>\r\n                    <td>7</td>\r\n                    <td>10</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n                        <img src="/img/icon/crown.png" class="crown">\r\n                        <h5>3</h5>\r\n                    </td>\r\n                    <td class="avatar">\r\n                        <img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 林志玲\r\n                    </td>\r\n                    <td class="error">5</td>\r\n                    <td>2</td>\r\n                    <td>5</td>\r\n                    <td>5</td>\r\n                    <td>7</td>\r\n                    <td>10</td>\r\n                </tr>\r\n                <tr class="null-tr">\r\n                    <td colspan="8"></td>\r\n                </tr>\r\n                <tr class="second-table-tr">\r\n                    <td>\r\n                        <h5>90</h5>\r\n                    </td>\r\n                    <td class="avatar">\r\n                        <img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 范冰冰\r\n                    </td>\r\n                    <td class="error">5</td>\r\n                    <td>2</td>\r\n                    <td>5</td>\r\n                    <td>5</td>\r\n                    <td>7</td>\r\n                    <td>10</td>\r\n                </tr>\r\n                <tr class="error">\r\n                    <td>\r\n                        <h5>91</h5>\r\n                    </td>\r\n                    <td class="avatar">\r\n                        <img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 陈大民\r\n                    </td>\r\n                    <td class="error">5</td>\r\n                    <td>2</td>\r\n                    <td>5</td>\r\n                    <td>5</td>\r\n                    <td>7</td>\r\n                    <td>10</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n                        <h5>92</h5>\r\n                    </td>\r\n                    <td class="avatar">\r\n                        <img class="ui middle aligned b-tiny image" src="/img/salespage/wilfried.png"> 郭晓静\r\n                    </td>\r\n                    <td class="error">5</td>\r\n                    <td>2</td>\r\n                    <td>5</td>\r\n                    <td>5</td>\r\n                    <td>7</td>\r\n                    <td>10</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <div class="ui bottom attached tab segment rank-segment" data-tab="second">\r\n        <table class="ui table center aligned rank-table">\r\n            <thead>\r\n                <tr>\r\n                    <th>{{\'MapRankRank\' | translate}}</th>\r\n                    <th>{{\'MapRankPopularity\' | translate}}</th>\r\n                    <th>{{\'MapRankTeamName\' | translate}}</th>\r\n                    <th width="70%">{{\'MapRankTeamMember\' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>\r\n                        <img src="/img/icon/crown.png" class="crown">\r\n                        <h5>1</h5>\r\n                    </td>\r\n                    <td>10</td>\r\n                    <td>无敌铁金刚-{{selectCategory}}</td>\r\n                    <td>\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n                        <img src="/img/icon/crown.png" class="crown">\r\n                        <h5>2</h5>\r\n                    </td>\r\n                    <td>9</td>\r\n                    <td>听妈妈的话-{{selectCategory}}</td>\r\n                    <td>\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n                        <img src="/img/icon/crown.png" class="crown">\r\n                        <h5>3</h5>\r\n                    </td>\r\n                    <td>8</td>\r\n                    <td>OpenMind-{{selectCategory}}</td>\r\n                    <td>\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                    </td>\r\n                </tr>\r\n                <tr class="null-tr">\r\n                    <td colspan="8"></td>\r\n                </tr>\r\n                <tr class="second-table-tr">\r\n                    <td>\r\n                        <h5>90</h5>\r\n                    </td>\r\n                    <td>4</td>\r\n                    <td>今生今世-{{selectCategory}}</td>\r\n                    <td>\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                    </td>\r\n                </tr>\r\n                <tr class="error">\r\n                    <td>\r\n                        <h5>91</h5>\r\n                    </td>\r\n                    <td>3</td>\r\n                    <td>陈大民的团队-{{selectCategory}}</td>\r\n                    <td>\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n                        <h5>92</h5>\r\n                    </td>\r\n                    <td>2</td>\r\n                    <td>绿巨人-{{selectCategory}}</td>\r\n                    <td>\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-f ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                        <img class="gender-m ui middle aligned b-tiny image" src="/img/salespage/wilfried.png">\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>'),
a.put("template/national-list.html",'<div class="series_banner">\r\n    <img ng-src="{{cmpt}}/img/banner_national.gif">\r\n</div>\r\n<div class="national-content" ng-controller="nationalCtrl">\r\n    <div class="ui grid">\r\n        <div class="ten wide column map-column">\r\n            <div china-map></div>\r\n        </div>\r\n        <div class="six wide column">\r\n            <div class="ui cards national-cards">\r\n                <div class="card" ng-class="{available:epic.epic_game_end > now}" ng-repeat="epic in nationalEpics" ng-click="epic.show=!epic.show">\r\n                    <div class="content national-name">\r\n                        <div class="epic_header">{{epic.title}}</div>\r\n                    </div>\r\n                    <div class="content">\r\n                        <div class="description">\r\n                            <div>\r\n                                <i class="calendar icon"></i> {{formatDate(epic.epic_game_from)}}\r\n                            </div>\r\n                            <div>\r\n                                <i class="user icon"></i> {{epic.memberCount||0}}{{40020 | translate}}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="extra content">\r\n                        <div class="text-right">\r\n                            {{getTime(epic)}}\r\n                        </div>\r\n                    </div>\r\n                    <div class="dimmer national-dimmer" ng-class="{active: epic.show}">\r\n                        <div class="content">\r\n                            <div class="center">\r\n                                <p ng-bind-html="epic.description|trusted"></p>\r\n                                <div class="label">\r\n                                    <a ng-href="/{{lang}}{{cmpt}}/epic?epic_id={{epic.epic_id}}">\r\n                                    {{40019|translate}}\r\n                                </a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),a.put("template/people_can_join.html",'<div class="people-can-join list" ng-controller="peopleCanJoinCtrl">\r\n    <div class="message" ng-show="message.show">\r\n        <div class="error" ng-show="message.error">\r\n            {{message.error|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n        <div class="text" ng-show="message.text">\r\n            {{message.text|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n    </div>\r\n    <div class="ui search">\r\n        <div class="ui left icon input">\r\n            <i class="icon search"></i>\r\n            <input type="text" class="search-input" placeholder="{{40016|translate}}" ng-model="memberName">\r\n        </div>\r\n    </div>\r\n    <div class="persons ui items">\r\n        <div class="item ui grid">\r\n            <div class="sixteen wide column">\r\n                <div class="ui five column grid">\r\n                    <div class="img column" ng-repeat="person in persons">\r\n                        <div class="card">\r\n                            <div class="img">\r\n                                <img class="gender-{{person.gender.toLowerCase()}}" ng-src="{{person.avatar}}">\r\n                            </div>\r\n                            <div class="title">\r\n                                {{person.show_name}}\r\n                            </div>\r\n                            <div class="description">\r\n                                <div>{{person.university || \'&nbsp;\'}}</div>\r\n                                <div>{{person.major || \'&nbsp;\'}}</div>\r\n                            </div>\r\n                        </div>\r\n                        <button class="btn" ng-click="sendInvite(person)">\r\n                            <i class="icon plus"></i>{{40015|translate}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="change item" ng-show="persons.length">\r\n            <button class="btn" ng-click="searchMember()">{{40211|translate}}</button>\r\n        </div>\r\n    </div>\r\n</div>'),a.put("template/people_invited.html",'<div class="people-invited list" ng-controller="peopleInvitedCtrl">\r\n    <div class="message" ng-show="message.show">\r\n        <div class="error" ng-show="message.error">\r\n            {{message.error|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n        <div class="text" ng-show="message.text">\r\n            {{message.text|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n    </div>\r\n    <div class="persons ui items">\r\n        <div class="item ui grid">\r\n            <div class="sixteen wide column">\r\n                <div class="ui five column grid">\r\n                    <div class="img column" ng-repeat="person in persons">\r\n                        <div class="card">\r\n                            <div class="img">\r\n                                <img class="gender-{{person.gender.toLowerCase()}}" ng-src="{{person.avatar}}">\r\n                            </div>\r\n                            <div class="title">\r\n                                {{person.show_name}}\r\n                            </div>\r\n                            <div class="description">\r\n                                <div>{{person.university || \'&nbsp;\'}}</div>\r\n                                <div>{{person.major || \'&nbsp;\'}}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),a.put("template/people_want_to_join.html",'<div class="people-want-to-join list" ng-controller="peopleWantToJoinCtrl">\r\n    <div class="message" ng-show="message.show">\r\n        <div class="error" ng-show="message.error">\r\n            {{message.error|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n        <div class="text" ng-show="message.text">\r\n            {{message.text|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n    </div>\r\n    <div class="persons ui items">\r\n        <div class="item ui grid">\r\n            <div class="sixteen wide column">\r\n                <div class="ui five column grid">\r\n                    <div class="img column" ng-repeat="member in members">\r\n                        <div class="card">\r\n                            <div class="img">\r\n                                <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\r\n                            </div>\r\n                            <div class="title">\r\n                                {{member.show_name}}\r\n                            </div>\r\n                            <div class="description">\r\n                                <div>{{member.university || \'&nbsp;\'}}</div>\r\n                                <div>{{member.major || \'&nbsp;\'}}</div>\r\n                            </div>\r\n                        </div>\r\n                        <button class="btn" ng-click="acceptApply(member)">\r\n                            <i class="icon checkmark"></i>{{40013|translate}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),a.put("template/profile.html",'<div class="profile-box">\r\n    <div class="base-profile">\r\n        <img class="ui middle aligned image" src="/img/salespage/wilfried.png">\r\n        <span>陈大民</span>\r\n    </div>\r\n    <div class="ui divider"></div>\r\n    <div class="ui two column grid">\r\n        <div class="column">\r\n            <i class="dollar big icon"></i> {{\'MapHomeBridgeCoins\' | translate}}：99\r\n        </div>\r\n        <div class="column">\r\n            <i class="configure big icon"></i> {{\'MapHomeSkills\' | translate}}：5\r\n        </div>\r\n    </div>\r\n    <div class="ui divider"></div>\r\n    <div radar-map class="small-rader" data="data"></div>\r\n    <div class="lists">\r\n        <i class="flag big icon"></i> {{\'MapHomeAchievement\' | translate}}\r\n    </div>\r\n    <div class="lists">\r\n        <button class="ui grey basic button fluid" ng-click="selectDirectiveItem(\'personalRecord\')">{{\'MapHomePersonalRecord\' | translate}}</button>\r\n    </div>\r\n    <div>\r\n        <button class="ui grey basic button fluid" ng-click="selectDirectiveItem(\'rankingList\')">{{\'MapHomeRankingList\' | translate}}</button>\r\n    </div>\r\n</div>'),a.put("template/season-list.html",'<div class="series_banner">\r\n    <img ng-src="{{cmpt}}/img/banner_season.gif">\r\n</div>\r\n<div class="season-content cloak" ng-controller="seasonCtrl">\r\n    <div class="timeline">\r\n        <div class="timeline-content" ng-repeat="epic in epics" ng-class="{first: epic === epics[0], last: epic === epics.length - 1}">\r\n            <div class="ui three column grid timeline-content-grid" ng-class="{available: epic.epic_game_end > now}">\r\n                <div class="three wide column">\r\n                    <p class="text-right">\r\n                        {{formatDate(epic.date,true)}}\r\n                    </p>\r\n                </div>\r\n                <div class="one wide column time-line">\r\n                </div>\r\n                <div class="twelve wide column">\r\n                    <div ng-repeat="item in epic.epics" class="ui card season-card fluid" ng-class="{available: epic.epic_game_end > now}" ng-click="item.show=!item.show">\r\n                        <div class="content season-name">\r\n                            <div class="epic_header">{{item.title}} {{translateRegion(item.region)|translate}}</div>\r\n                        </div>\r\n                        <div class="content">\r\n                            <div class="description">\r\n                                <div class="left floated">\r\n                                    <i class="user icon"></i> {{item.memberCount||0}}{{40020 | translate}}\r\n                                </div>\r\n                                <div class="right floated">\r\n                                    {{getTime(item)}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="dimmer season-dimmer" ng-class="{active: item.show}">\r\n                            <div class="content">\r\n                                <div class="center">\r\n                                    <p ng-bind-html="item.description|trusted">\r\n                                    </p>\r\n                                    <div class="label">\r\n                                        <a ng-href="/{{lang}}{{cmpt}}/epic?epic_id={{item.epic_id}}">\r\n                                            {{40019|translate}}\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),a.put("template/series-list.html",'<div class="cloak" ng-controller="seriesCtrl">\r\n    <div ng-repeat="series in all_series">\r\n        <div class="series_banner">\r\n            <a ng-href="/{{lang}}{{cmpt}}/{{series.series_type}}?series_id={{series.series_id}}">\r\n                <img ng-src="{{cmpt}}/img/banner_{{series.series_type}}.png" />\r\n            </a>\r\n        </div>\r\n        <div class="available-lists">\r\n            <div class="available-list" ng-if="epic.team" ng-repeat="epic in series.epics">\r\n                <div class="ui grid">\r\n                    <div class="sixteen wide column">\r\n                        <div class="list-title">\r\n                            <a ng-href="/{{lang}}{{cmpt}}/epic?epic_id={{epic.epic_id}}">\r\n                                <h3>\r\n                                    {{epic.title}}, \r\n                                    {{getTeamTime(epic, epic.team.teamMemberCount - epic.max_team_member_count)}}\r\n                                </h3>\r\n                            </a>\r\n                        </div>\r\n                        <div class="list-content">\r\n                            <i class="user icon" ng-class="{active: epic.team.teamMemberCount >= epic.max_team_member_count}"></i>\r\n                            <label>\r\n                                {{epic.team.teamMemberCount}} / {{epic.max_team_member_count}}\r\n                            </label>\r\n                            <label>\r\n                                {{epic.team.name}}\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    <!--<div class="two wide column">\r\n                        <div class="wechat">\r\n                            <i class="big wechat icon home-wechat-share" pop klass="qrpop" content="<div class=\'logo-mask\'></div><div class=\'qrcode\' qrcode src=\'QRCode(epic.epic_id, epic.team.id)\'></div>"></i>\r\n                        </div>\r\n                    </div>-->\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),a.put("template/teamjoin.html",'<div ng-controller="teamjoinCtrl" class="teamjoin cloak" ng-show="!share_team && ms_member" ng-if="ms_epic.epic_sign_from < now && ms_epic.epic_sign_end > now">\r\n    <div class="actions ui grid hide" ng-show="!share_team && ms_member && !ms_team">\r\n        <div class="six wide column">\r\n            <div class="toggle">\r\n                <div class="{{tab.name}}" ng-repeat="tab in tabs">\r\n                    <button class="btn" ng-class="{selected:selected===tab}" ng-click="toggle(tab)" ng-show="showTabHeader(tab)">\r\n                        {{tab.label|translate}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="contents">\r\n        <div class="{{tab.name}}" ng-show="showTabContent(tab)" ng-repeat="tab in tabs">\r\n            <div class="create-input ui form" ng-controller="createTeamCtrl" ng-if="tab.name==\'create\' && !ms_team">\r\n                <div class="inline fields">\r\n                    <div class="one wide field">\r\n                    </div>\r\n                    <div class="label four wide field">\r\n                        {{40006|translate}}\r\n                    </div>\r\n                    <div class="eight wide field">\r\n                        <input type="text" maxlength="100" ng-model="name" input-enter="createTeam()">\r\n                    </div>\r\n                    <div class="four wide field">\r\n                        <button class="btn" ng-click="createTeam()">\r\n                            {{40007|translate}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="message" ng-show="message.show">\r\n                    <div class="error" ng-show="message.error">\r\n                        {{message.error|translate}}\r\n                        <i class="remove icon" ng-click="message.show=false"></i>\r\n                    </div>\r\n                    <div class="text" ng-show="message.text">\r\n                        {{message.text|translate}}\r\n                        <i class="remove icon" ng-click="message.show=false"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="ui form" ng-if="tab.name==\'create\' && !ms_team">&nbsp;</div>\r\n            <div class="tab-header ui form" ng-show="tab.name!=\'create\'||ms_team">\r\n                <div class="inline fields">\r\n                    <div class="four wide field" ng-repeat="child in tab.children">\r\n                        <button class="btn" ng-class="{selected: selectedTab===child}" ng-click="selectTab(child)">\r\n                            {{child.label|translate}}\r\n                            <span ng-if="number[child.name]">\r\n                                ({{number[child.name]}})\r\n                            </span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="tabs" ng-show="tab.name!=\'create\'||ms_team">\r\n                <div class="content {{child.name}}" ng-show="selectedTab === child" ng-repeat="child in tab.children">\r\n                    <div ng-dynamic-directive="child.name">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>'),a.put("template/teammember.html",'<div ng-controller="gameteamCtrl" class="teammember cloak" ng-show="share_team || ms_team">\r\n    <div class="head" ng-if="ms_epic.epic_sign_end > now" ng-show="!isSharePage && ms_team">\r\n        <span ng-if="(ms_epic.max_team_member_count|| 5) > ms_team.memberLength">还差{{(ms_epic.max_team_member_count|| 5) - ms_team.memberLength}}位队友,赶紧邀请朋友加入!</span>\r\n        <span ng-if="(ms_epic.max_team_member_count|| 5) == ms_team.memberLength">已完成组队!请在游戏开始前回此页面进行游戏</span>\r\n        <button class="btn" ng-click="removeMember(ms_member)">\r\n            <i class="icon sign out"></i> {{40021|translate}}\r\n        </button>\r\n        <!--<button class="btn" ng-if="ms_epic.epic_id && ms_team.team_id" pop klass="qrpop" content="<div class=\'logo-mask\'></div><div class=\'qrcode\' qrcode src=\'QRCode(ms_epic.epic_id, ms_team.team_id)\'></div>">\r\n            <i class="icon wechat"></i> {{40018|translate}}\r\n        </button>-->\r\n    </div>\r\n    <!--<div class="head" ng-show="isSharePage && share_team">\r\n        <span>&nbsp;</span>\r\n        <button class="btn" ng-if="ms_epic.epic_id && share_team.team_id" pop klass="qrpop" content="<div class=\'logo-mask\'></div><div class=\'qrcode\' qrcode src=\'QRCode(ms_epic.epic_id, share_team.team_id)\'></div>">\r\n            <i class="icon wechat"></i> {{40018|translate}}\r\n        </button>\r\n    </div>-->\r\n    <div class="body list">\r\n        <div class="name">\r\n            {{40022|translate}}\r\n            <label ng-show="!edit">{{(isSharePage? share_team : ms_team)[\'name\']}}</label>\r\n            <input type="text" maxlength="20" ng-model="(isSharePage? share_team : ms_team)[\'name\']" ng-show="edit">\r\n            <i class="icon write" ng-show="!isSharePage && isLeader && !edit" ng-click="edit=true"></i>\r\n            <i class="icon checkmark" ng-show="!isSharePage && isLeader && edit" ng-click="updateTeamName()"></i>\r\n        </div>\r\n        <div class="ui items">\r\n            <div class="item ui grid images-expanded">\r\n                <div class="images expanded">\r\n                    <div class="ui five column grid item">\r\n                        <div class="column img" ng-class="{selected:selected===member}" ng-repeat="member in (isSharePage? share_team : ms_team)[\'members\']">\r\n                            <div class="card">\r\n                                <div class="img" ng-click="select(member)">\r\n                                    <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\r\n                                    <i class="icon remove circle" ng-if="member.member_id" ng-click="removeMember(member)"></i>\r\n                                </div>\r\n                                <div class="title">\r\n                                    {{member.show_name}}\r\n                                </div>\r\n                                <div class="description">\r\n                                    <div>{{member.university || \'&nbsp;\'}}</div>\r\n                                    <div>{{member.major || \'&nbsp;\'}}</div>\r\n                                    <div>{{member.mobile || \'&nbsp;\'}}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n'),a.put("template/teams_apply_sent.html",'<div class="teams-apply-sent list" ng-controller="teamsApplySentCtrl">\r\n    <div class="message" ng-show="message.show">\r\n        <div class="error" ng-show="message.error">\r\n            {{message.error|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n        <div class="text" ng-show="message.text">\r\n            {{message.text|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n    </div>\r\n    <div class="teams ui items">\r\n        <div ng-repeat="team in teams" class="ui items">\r\n            <div class="item ui grid" ng-class="{expanded:team.expanded}" ng-click="team.expanded=!team.expanded">\r\n                <span class="name middle aligned content six wide column">\r\n                    {{team.name}}\r\n                </span>\r\n                <div class="images ten wide column minor" ng-class="{invisible:team.expanded}">\r\n                    <div class="ui five column grid">\r\n                        <div class="img column" ng-repeat="member in team.members">\r\n                            <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="item ui grid images-expanded" ng-show="team.expanded">\r\n                <div class="images expanded">\r\n                    <div class="ui five column grid">\r\n                        <div class="img column" ng-repeat="member in team.members">\r\n                            <div class="card">\r\n                                <div class="img">\r\n                                    <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\r\n                                </div>\r\n                                <div class="title">\r\n                                    {{member.show_name}}\r\n                                </div>\r\n                                <div class="description">\r\n                                    <div>{{member.university || \'&nbsp;\'}}</div>\r\n                                    <div>{{member.major || \'&nbsp;\'}}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),a.put("template/teams_being_invited.html",'<div class="teams-being-invited list" ng-controller="teamsBeingInvitedCtrl">\r\n    <!--<div class="instruction">\r\n        {{40011|translate}}{{number}}{{40012|translate}}\r\n    </div>-->\r\n    <div class="message" ng-show="message.show">\r\n        <div class="error" ng-show="message.error">\r\n            {{message.error|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n        <div class="text" ng-show="message.text">\r\n            {{message.text|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n    </div>\r\n    <div class="ui items">\r\n        <div ng-repeat="team in teams" class="ui items">\r\n            <div class="item ui grid" ng-class="{expanded:team.expanded}" ng-click="team.expanded=!team.expanded">\r\n                <div class="middle aligned content two wide column">\r\n                    <button class="btn" ng-click="acceptInvite(team)">\r\n                        <i class="icon plus"></i>{{40013|translate}}\r\n                    </button>\r\n                </div>\r\n                <span class="name middle aligned content four wide column">\r\n                    {{team.name}}\r\n                </span>\r\n                <div class="images ten wide column minor" ng-class="{invisible:team.expanded}">\r\n                    <div class="ui five column grid">\r\n                        <div class="img column" ng-repeat="member in team.members">\r\n                            <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="item ui grid images-expanded" ng-show="team.expanded">\r\n                <div class="images expanded">\r\n                    <div class="ui five column grid">\r\n                        <div class="img column" ng-repeat="member in team.members">\r\n                            <div class="card">\r\n                                <div class="img">\r\n                                    <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\r\n                                </div>\r\n                                <div class="title">\r\n                                    {{member.show_name}}\r\n                                </div>\r\n                                <div class="description">\r\n                                    <div>{{member.university || \'&nbsp;\'}}</div>\r\n                                    <div>{{member.major || \'&nbsp;\'}}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),a.put("template/teams_can_join.html",'<div class="teams-can-join list" ng-controller="teamsCanJoinCtrl">\r\n    <div class="message" ng-show="message.show">\r\n        <div class="error" ng-show="message.error">\r\n            {{message.error|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n        <div class="text" ng-show="message.text">\r\n            {{message.text|translate}}\r\n            <i class="remove icon" ng-click="message.show=false"></i>\r\n        </div>\r\n    </div>\r\n    <div class="ui search">\r\n        <div class="ui left icon input">\r\n            <i class="icon search"></i>\r\n            <input type="text" class="search-input" placeholder="{{40016|translate}}" ng-model="teamName">\r\n        </div>\r\n    </div>\r\n    <div class="ui items">\r\n        <div ng-repeat="team in teams" class="ui items">\r\n            <div class="item ui grid" ng-class="{expanded:team.expanded}" ng-click="team.expanded=!team.expanded">\r\n                <div class="middle aligned content two wide column">\r\n                    <button class="btn" ng-click="sendApply(team)">\r\n                        <i class="icon plus"></i>{{40017|translate}}\r\n                    </button>\r\n                </div>\r\n                <span class="name middle aligned content four wide column">\r\n                    {{team.name}}\r\n                </span>\r\n                <div class="images ten wide column minor" ng-class="{invisible:team.expanded}">\r\n                    <div class="ui five column grid">\r\n                        <div class="img column" ng-repeat="member in team.members">\r\n                            <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="item ui grid images-expanded" ng-show="team.expanded">\r\n                <div class="images expanded">\r\n                    <div class="ui five column grid">\r\n                        <div class="img column" ng-repeat="member in team.members">\r\n                            <div class="card">\r\n                                <div class="img">\r\n                                    <img class="gender-{{member.gender.toLowerCase()}}" ng-src="{{member.avatar}}">\r\n                                </div>\r\n                                <div class="title">\r\n                                    {{member.show_name}}\r\n                                </div>\r\n                                <div class="description">\r\n                                    <div>{{member.university || \'&nbsp;\'}}</div>\r\n                                    <div>{{member.major || \'&nbsp;\'}}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="change item" ng-show="teams.length">\r\n        <button class="btn" ng-click="searchTeam()">{{40211|translate}}</button>\r\n    </div>\r\n</div>\r\n')}]);